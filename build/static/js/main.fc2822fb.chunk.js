(this.webpackJsonpnuovo=this.webpackJsonpnuovo||[]).push([[0],{359:function(e,t,l){},360:function(e,t,l){},524:function(e,t,l){},543:function(e,t,l){"use strict";l.r(t);var n=l(1),c=l.n(n),r=l(176),a=l(29),i=l.n(a),s=(l(359),l(360),l(15)),o=l(2),d=l(11),u=l(9),j=l(10),b=l(8),x=l(615),m=l(84),h=l(643),p=l(623),f=l(624),O=l(621),g=l(628),v=l(625),y=l(294),N=l.n(y),w=l(296),_=l.n(w),S=l(295),C=l.n(S),k=l(626),E=l(651),z=l(629),A=l(630),R=l(649),D=l(631),T=l(652),F=l(291),q=l.n(F),I=l(298),P=l.n(I),L=l(292),B=l.n(L),U=l(184),J=l.n(U),H=l(185),W=l.n(H),V=l.p+"static/media/logo.9a449140.png",M=l(6),Q=l(20),G=l.n(Q),Z="SET_USER",K="SET_LEADS",$="UPDATE_LEAD",Y="SET_UPDATELEAD",X="DELETE_LEAD",ee="SELECTED_LEAD",te="ADD_LEAD",le="SET_INVENTORY",ne="SET_UPDATEINVENTORY",ce="DELETE_INVENTORY",re="SET_CONTACT",ae="ADD_CONTACT",ie="DELETE_CONTACT",se="DELETE_ORGANIZATION",oe="SET_UPDATECONTACT",de="SET_ORGANIZATION",ue="SET_UPDATEORG",je="SET_ALERT",be="SET_CONFIRMATION",xe="SHOW_FOLLOWUP",me="SHOW_LEADCREATE",he="SHOW_CONTACTCREATE",pe="SHOW_ORGCREATE",fe=function(e){return{type:je,payload:e}},Oe=l(125),ge=l.n(Oe),ve=l(156),ye=l.n(ve),Ne=l(366).default.create({baseURL:"http://localhost:6000/api"}),we=function(e){return{type:oe,payload:e}},_e=function(e){return{type:xe,payload:e}},Se=function(e){return{type:me,payload:e}},Ce=function(e){return{type:he,payload:e}},ke=function(e){return{type:pe,payload:e}},Ee=function(e){return{type:ue,payload:e}},ze=function(){return function(e){Ne.get("/contacts").then((function(t){var l;e((l=t.data,{type:re,payload:l}))})).catch((function(e){return console.log(e)}))}},Ae=function(){return function(e){Ne.get("/organizations").then((function(t){var l;e((l=t.data,{type:de,payload:l}))})).catch((function(e){return console.log(e)}))}},Re=function(e,t,l,n){return function(c){var r=G.a.get("JWT"),a=JSON.parse(localStorage.getItem("user"));Ne.post("/create-contact/".concat(a._id),e,{headers:{Authorization:"Bearer ".concat(r)}}).then((function(r){var a;console.log(r),c((a=r.data,{type:ae,payload:a})),c(fe({message:"Contact created successfully",error:!1})),t(),c(Ce({show:!1,phone:null,fromLead:!1})),l.push("/contactdetail/".concat(r.data._id)),n(""),e.organization&&c(Fe(null===e||void 0===e?void 0:e.organization))})).catch((function(e){console.log(e),c(fe({message:"Error creating contact",error:!0})),t()}))}},De=function(e,t){return function(t){var l=G.a.get("JWT"),n=JSON.parse(localStorage.getItem("user"));Ne.delete("/delete-contact/".concat(e,"/").concat(n._id),{headers:{Authorization:"Bearer ".concat(l)}}).then((function(l){t(function(e){return{type:ie,payload:e}}(e)),t(fe({message:"Contact deleted successfully",error:!1}))})).catch((function(e){t(fe({message:"Error deleting contact",error:!0}))}))}},Te=function(e){return function(t){Ne.get("/contact/".concat(e)).then((function(e){t(we(e.data))})).catch()}},Fe=function(e){return function(t){Ne.get("/organization/".concat(e)).then((function(e){t(Ee(e.data))})).catch()}},qe=l(0),Ie=230,Pe=Object(x.a)((function(e){var t;return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:"rgb(73, 71, 129)"},appBarShift:{marginLeft:Ie,width:"calc(100% - ".concat(Ie,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:Ie,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:Ie,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),backgroundColor:"rgb(73, 71, 129)",height:"100%",color:"white"},drawerClose:(t={transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},Object(j.a)(t,e.breakpoints.up("sm"),{width:e.spacing(9)+1}),Object(j.a)(t,"backgroundColor","rgb(73, 71, 129)"),Object(j.a)(t,"height","100%"),Object(j.a)(t,"color","white"),t),toolbar:Object(o.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}})),Le=[{title:"Dashboard",icon:Object(qe.jsx)(q.a,{style:{fontSize:"30px",color:"white"}}),path:"/"},{title:"Organization",icon:Object(qe.jsx)(ge.a,{style:{fontSize:"30px",color:"white"}}),path:"/organizations"},{title:"All Contacts",icon:Object(qe.jsx)(J.a,{style:{fontSize:"30px",color:"white"}}),path:"/contacts"},{title:"Inventory",icon:Object(qe.jsx)(W.a,{style:{fontSize:"30px",color:"white"}}),path:"/inventory"},{title:"Send SMS",icon:Object(qe.jsx)(B.a,{style:{fontSize:"30px",color:"white"}}),path:"/message"}];function Be(e){var t,l,r,a=e.Component,i=e.props,d=Pe(),x=Object(m.a)(),y=c.a.useState(!1),w=Object(u.a)(y,2),S=w[0],F=w[1],q=Object(s.g)(),I=Object(M.b)(),L=Object(M.c)((function(e){return e.user})),B=c.a.useState(null),U=Object(u.a)(B,2),J=U[0],H=(U[1],Boolean(J),Object(M.c)((function(e){return e.contact.followUp}))),W=(Object(M.c)((function(e){return e.contact.contact})),Object(n.useState)([])),Q=Object(u.a)(W,2),Z=(Q[0],Q[1]);return Object(n.useEffect)((function(){Ne.get("/followups").then((function(e){Z(e.data)})).catch((function(e){}))}),[H]),Object(qe.jsxs)("div",{className:d.root,children:[Object(qe.jsx)(O.a,{}),Object(qe.jsx)(p.a,{position:"fixed",className:Object(b.a)(d.appBar,Object(j.a)({},d.appBarShift,S)),children:Object(qe.jsx)(f.a,{children:Object(qe.jsxs)("div",{className:"flex justify-between w-full items-center",children:[Object(qe.jsxs)("div",{className:"flex",children:[Object(qe.jsx)(v.a,{color:"inherit","aria-label":"open drawer",onClick:function(){F(!0)},edge:"start",className:Object(b.a)(d.menuButton,Object(j.a)({},d.hide,S)),children:Object(qe.jsx)(N.a,{})}),Object(qe.jsx)("img",{src:V,alt:"",style:{height:"45px"}})]}),Object(qe.jsxs)("div",{className:"flex items-center justify-center sm:mr-4",children:[Object(qe.jsxs)(k.a,{onClick:function(){return I(ke({show:!0}))},style:{textTransform:"capitalize",backgroundColor:"white ",marginRight:"10px"},children:["Create Organization",Object(qe.jsx)(ye.a,{})]}),Object(qe.jsxs)(k.a,{onClick:function(){return I(Ce({show:!0,phone:null,fromLead:!1}))},style:{textTransform:"capitalize",backgroundColor:"white ",marginRight:"10px"},children:["Create Contact",Object(qe.jsx)(ye.a,{})]}),Object(qe.jsxs)(k.a,{onClick:function(){return I(_e({show:!0,phone:null,fromContact:!1}))},style:{textTransform:"capitalize",backgroundColor:"white ",marginRight:"10px"},children:["Create FollowUp",Object(qe.jsx)(ye.a,{})]}),Object(qe.jsxs)(k.a,{onClick:function(){return I(Se({show:!0,phone:null,fromContact:!1}))},style:{textTransform:"capitalize",backgroundColor:"white ",marginRight:"10px"},children:["Create Lead",Object(qe.jsx)(ye.a,{})]}),Object(qe.jsx)("h2",{className:" text-xs m-0 p-2",children:null===L||void 0===L||null===(t=L.user)||void 0===t?void 0:t.name}),Object(qe.jsx)(E.a,{})]})]})})}),Object(qe.jsxs)(h.a,{variant:"permanent",className:Object(b.a)(d.drawer,(l={},Object(j.a)(l,d.drawerOpen,S),Object(j.a)(l,d.drawerClose,!S),l)),classes:{paper:Object(b.a)((r={},Object(j.a)(r,d.drawerOpen,S),Object(j.a)(r,d.drawerClose,!S),r))},children:[Object(qe.jsx)("div",{className:d.toolbar,children:Object(qe.jsx)(v.a,{onClick:function(){F(!1)},children:"rtl"===x.direction?Object(qe.jsx)(C.a,{}):Object(qe.jsx)(_.a,{})})}),Object(qe.jsx)("div",{}),Object(qe.jsx)(g.a,{}),Object(qe.jsx)(z.a,{children:Le.map((function(e,t){return Object(qe.jsxs)(A.a,{style:{paddingTop:"10px",paddingBottom:"10px"},button:!0,onClick:function(){q.push(e.path)},children:[Object(qe.jsx)(R.a,{title:e.title,children:Object(qe.jsx)(D.a,{style:{paddingLeft:"5px"},children:e.icon})}),Object(qe.jsx)(T.a,{primary:e.title})]},t)}))}),Object(qe.jsx)(g.a,{}),Object(qe.jsx)(z.a,{children:Object(qe.jsxs)(A.a,{button:!0,onClick:function(){G.a.remove("JWT"),localStorage.clear(),q.push("/login"),I(fe({message:"Logged out successfully",error:!1}))},children:[Object(qe.jsx)(R.a,{title:"Logout",children:Object(qe.jsxs)(D.a,{style:{paddingLeft:"5px"},children:[Object(qe.jsx)(P.a,{style:{fontSize:"30px",color:"white"}}),","]})}),Object(qe.jsx)(T.a,{primary:"Logout"})]})})]}),Object(qe.jsx)("main",{className:"mt-14 w-full",children:Object(qe.jsx)(a,Object(o.a)({},i))})]})}var Ue=["component"];var Je=function(e){var t=e.component,l=Object(d.a)(e,Ue);return Object(qe.jsx)(qe.Fragment,{children:Object(qe.jsx)(s.b,Object(o.a)(Object(o.a)({},l),{},{render:function(e){return Object(qe.jsx)(qe.Fragment,{children:G.a.get("JWT")?Object(qe.jsx)(Be,{Component:t,props:e}):Object(qe.jsx)(s.a,{to:{pathname:"/login",state:{from:e.location}}})})}}))})},He=(l(632),l(633),l(637),l(313),l(314),l(159),l(153),l(334),l(97)),We=l.n(He),Ve=l(53),Me=l.n(Ve),Qe=function(e){var t,l,c,r,a=e.name,i=e.fupFilter,o=e.fup,d=Object(M.b)(),j=Object(s.g)(),b=Object(M.c)((function(e){return e.contact.update})),x=G.a.get("JWT"),m=JSON.parse(localStorage.getItem("user")),h=Object(n.useState)(""),p=Object(u.a)(h,2),f=p[0],O=p[1],g=function(e){e.preventDefault();var t=G.a.get("JWT"),l=JSON.parse(localStorage.getItem("user"));Ne.post("/add-remarks-in-followup/".concat(o._id,"/").concat(l._id),{remarks:f},{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){d(_e({show:!1,phone:null,fromContact:!1})),d(fe({message:"FollowUp Completed",error:!1}))})).catch((function(e){d(fe({message:"Error converting followup",error:!0}))}))};return Object(qe.jsxs)("div",{children:["Upcoming"===i?Object(qe.jsx)(qe.Fragment,{children:new Date(null===o||void 0===o?void 0:o.date).toLocaleDateString()>=(new Date).toLocaleDateString()&&!(null===o||void 0===o?void 0:o.isAttended)?Object(qe.jsxs)("div",{className:"bg-gray-100 w-full p-4 py-1 rounded-md flex justify-between items-center mb-2 cursor-pointer",children:[Object(qe.jsxs)("div",{onClick:function(){return j.push("/contactdetail/".concat(a._id))},className:"text-sm cursor-pointer",children:[Object(qe.jsxs)("p",{className:"border-b-2 py-1 pr-4",children:[Object(qe.jsx)("span",{className:"font-light mr-2",children:"Opening Remark:"}),null===o||void 0===o?void 0:o.text]}),Object(qe.jsx)("p",{className:"border-b-2 pr-4 w-max",children:(null===a||void 0===a?void 0:a.name)+"("+((null===a||void 0===a?void 0:a.organization)?(null===a||void 0===a||null===(t=a.organization)||void 0===t?void 0:t.name)+")(":null)+(null===a||void 0===a?void 0:a.phone)+")"}),Object(qe.jsx)("p",{children:new Date(null===o||void 0===o?void 0:o.date).toLocaleString("en-US",{timeZone:"UTC",day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),Object(qe.jsxs)("div",{className:"flex items-center",children:[Object(qe.jsx)("input",{type:"text",className:"px-2 py-1 ml-4 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",placeholder:"Enter closing remark",value:f,onChange:function(e){return O(e.target.value)}}),Object(qe.jsx)(v.a,{onClick:g,style:{padding:"8px",marginLeft:"10px"},children:Object(qe.jsx)(We.a,{})}),Object(qe.jsx)(v.a,{onClick:function(){Ne.delete("/delete-followup/".concat(null===o||void 0===o?void 0:o._id,"/").concat(m._id),{headers:{Authorization:"Bearer ".concat(x)}}).then((function(e){d(Te(b._id)),d(fe({message:"FollowUp deleted",error:!1}))})).catch((function(e){d(fe({message:"Error deleting followup",error:!0}))}))},style:{padding:"8px"},children:Object(qe.jsx)(Me.a,{})})]})]},null===o||void 0===o?void 0:o._id):null}):null,"Today"===i?Object(qe.jsx)(qe.Fragment,{children:new Date(null===o||void 0===o?void 0:o.date).toLocaleDateString()!==(new Date).toLocaleDateString()||(null===o||void 0===o?void 0:o.isAttended)?null:Object(qe.jsxs)("div",{className:"bg-gray-100 w-full p-4 py-1 rounded-md flex justify-between items-center mb-2 cursor-pointer",children:[Object(qe.jsxs)("div",{onClick:function(){return j.push("/contactdetail/".concat(a._id))},className:"text-sm cursor-pointer",children:[Object(qe.jsxs)("p",{className:"border-b-2 py-1 pr-4",children:[Object(qe.jsx)("span",{className:"font-light mr-2",children:"Opening Remark:"}),null===o||void 0===o?void 0:o.text]}),Object(qe.jsx)("p",{className:"border-b-2 pr-4 w-max",children:(null===a||void 0===a?void 0:a.name)+"("+((null===a||void 0===a?void 0:a.organization)?(null===a||void 0===a||null===(l=a.organization)||void 0===l?void 0:l.name)+")(":null)+(null===a||void 0===a?void 0:a.phone)+")"}),Object(qe.jsx)("p",{children:new Date(null===o||void 0===o?void 0:o.date).toLocaleString("en-US",{timeZone:"UTC",day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),Object(qe.jsxs)("div",{className:"flex items-center",children:[Object(qe.jsx)("input",{type:"text",className:"px-2 py-1 ml-4 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",placeholder:"Enter closing remark",value:f,onChange:function(e){return O(e.target.value)}}),Object(qe.jsx)(v.a,{onClick:g,style:{padding:"8px",marginLeft:"10px"},children:Object(qe.jsx)(We.a,{})}),Object(qe.jsx)(v.a,{onClick:function(){Ne.delete("/delete-followup/".concat(null===o||void 0===o?void 0:o._id,"/").concat(m._id),{headers:{Authorization:"Bearer ".concat(x)}}).then((function(e){d(Te(b._id)),d(fe({message:"FollowUp deleted",error:!1}))})).catch((function(e){d(fe({message:"Error deleting followup",error:!0}))}))},style:{padding:"8px"},children:Object(qe.jsx)(Me.a,{})})]})]},null===o||void 0===o?void 0:o._id)}):null,"Missed"===i?Object(qe.jsx)(qe.Fragment,{children:new Date(null===o||void 0===o?void 0:o.date).toLocaleDateString()<(new Date).toLocaleDateString()?Object(qe.jsxs)("div",{className:"bg-gray-100 w-full p-4 py-1 rounded-md flex justify-between items-center mb-2 cursor-pointer",children:[Object(qe.jsxs)("div",{onClick:function(){return j.push("/contactdetail/".concat(a._id))},className:"text-sm cursor-pointer",children:[Object(qe.jsxs)("p",{className:"border-b-2 py-1 pr-4",children:[Object(qe.jsx)("span",{className:"font-light mr-2",children:"Opening Remark:"}),null===o||void 0===o?void 0:o.text]}),Object(qe.jsx)("p",{className:"w-max",children:(null===a||void 0===a?void 0:a.name)+"("+((null===a||void 0===a?void 0:a.organization)?(null===a||void 0===a||null===(c=a.organization)||void 0===c?void 0:c.name)+")(":null)+(null===a||void 0===a?void 0:a.phone)+")"})]}),Object(qe.jsxs)("div",{className:"flex items-center",children:[Object(qe.jsx)("p",{children:new Date(null===o||void 0===o?void 0:o.date).toLocaleString("en-US",{timeZone:"UTC",day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}),Object(qe.jsx)(v.a,{onClick:function(){Ne.delete("/delete-followup/".concat(null===o||void 0===o?void 0:o._id,"/").concat(m._id),{headers:{Authorization:"Bearer ".concat(x)}}).then((function(e){d(Te(b._id)),d(fe({message:"FollowUp deleted",error:!1}))})).catch((function(e){d(fe({message:"Error deleting followup",error:!0}))}))},style:{padding:"8px"},children:Object(qe.jsx)(Me.a,{})})]})]},null===o||void 0===o?void 0:o._id):null}):null,"Completed"===i?Object(qe.jsx)(qe.Fragment,{children:(null===o||void 0===o?void 0:o.isAttended)?Object(qe.jsxs)("div",{className:"bg-gray-100 w-full p-4 py-1 rounded-md flex justify-between items-center mb-2 cursor-pointer",children:[Object(qe.jsxs)("div",{onClick:function(){return j.push("/contactdetail/".concat(a._id))},className:"text-sm cursor-pointer",children:[Object(qe.jsxs)("p",{className:"border-b-2 py-1 pr-4",children:[Object(qe.jsx)("span",{className:"font-light mr-2",children:"Opening Remark:"}),null===o||void 0===o?void 0:o.text]}),Object(qe.jsxs)("p",{className:"border-b-2 pr-4 w-max",children:[Object(qe.jsx)("span",{className:" font-light mr-2",children:"Closing Remark:"}),null===o||void 0===o?void 0:o.remarks]}),Object(qe.jsx)("p",{className:"",children:(null===a||void 0===a?void 0:a.name)+"("+((null===a||void 0===a?void 0:a.organization)?(null===a||void 0===a||null===(r=a.organization)||void 0===r?void 0:r.name)+")(":null)+(null===a||void 0===a?void 0:a.phone)+")"})]}),Object(qe.jsxs)("div",{className:"flex items-center",children:[Object(qe.jsx)("p",{children:new Date(null===o||void 0===o?void 0:o.date).toLocaleString("en-US",{timeZone:"UTC",day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}),Object(qe.jsx)(v.a,{onClick:function(){Ne.delete("/delete-followup/".concat(null===o||void 0===o?void 0:o._id,"/").concat(m._id),{headers:{Authorization:"Bearer ".concat(x)}}).then((function(e){d(Te(b._id)),d(fe({message:"FollowUp deleted",error:!1}))})).catch((function(e){d(fe({message:"Error deleting followup",error:!0}))}))},style:{padding:"8px"},children:Object(qe.jsx)(Me.a,{})})]})]},null===o||void 0===o?void 0:o._id):null}):null]})},Ge=l(318),Ze=l.n(Ge),Ke=l(222),$e=l.n(Ke),Ye=l(315),Xe=l.n(Ye),et=l(316),tt=l.n(et),lt=l(317),nt=l.n(lt),ct=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),l=t[0],c=t[1],r=Object(n.useState)([]),a=Object(u.a)(r,2),i=a[0],s=a[1],o=Object(M.c)((function(e){return e.contact.contact})),d=Object(M.c)((function(e){return e.contact.organizations})),j=Object(M.c)((function(e){return e.contact.followUp})),b=Object(n.useState)("Today"),x=Object(u.a)(b,2),m=x[0],h=x[1];Object(n.useEffect)((function(){Ne.get("/leads").then((function(e){c(e.data)}))}),[]),Object(n.useEffect)((function(){Ne.get("/followups").then((function(e){s(e.data)})).catch((function(e){}))}),[j]);var p=(new Date).toLocaleString("en-US",{month:"2-digit"}),f=(new Date).toLocaleString("en-US",{year:"numeric"}),O=0,g=0,v=0;return null===l||void 0===l||l.forEach((function(e){var t=new Date(e.updatedAt).toLocaleString("en-US",{year:"numeric"}),l=new Date(e.updatedAt).toLocaleString("en-US",{month:"2-digit"});t===f&&l===p&&(g++,"Completed"===e.status?O++:"Cancelled"===e.status&&v++)})),null===o||void 0===o||o.forEach((function(e){e.isCustomer&&0})),Object(qe.jsxs)("div",{className:"mt-10 mx-10",children:[Object(qe.jsx)("div",{className:"w-full bg-white p-6 rounded-lg",children:Object(qe.jsx)("h2",{className:"text-3xl font-semibold",children:"Dashboard"})}),Object(qe.jsxs)("div",{className:"w-full flex justify-between mt-5",children:[Object(qe.jsxs)("div",{className:"w-full flex flex-col flex-1 items-center ",children:[Object(qe.jsxs)("div",{className:"w-full flex mb-4",children:[Object(qe.jsxs)("div",{className:" bg-green-400 mr-2 rounded-lg w-full h-32 flex flex-col justify-center items-center p-6",children:[Object(qe.jsxs)("p",{className:"text-2xl flex items-center",children:[Object(qe.jsx)($e.a,{fontSize:"large"}),Object(qe.jsx)("span",{className:"ml-3",children:"Closed Leads"})]}),Object(qe.jsx)("p",{className:"text-2xl",children:O})]}),Object(qe.jsxs)("div",{className:" bg-yellow-400 mr-2 rounded-lg w-full h-32 flex flex-col justify-center items-center p-6",children:[Object(qe.jsxs)("p",{className:"text-2xl flex items-center",children:[Object(qe.jsx)(Xe.a,{fontSize:"large"}),Object(qe.jsx)("span",{className:"ml-3",children:"Pending Leads"})]}),Object(qe.jsx)("p",{className:"text-2xl",children:g-O-v})]})]}),Object(qe.jsxs)("div",{className:"w-full flex mb-4",children:[Object(qe.jsxs)("div",{className:" bg-red-400 mr-2 rounded-lg w-full h-32 flex flex-col justify-center items-center p-6",children:[Object(qe.jsxs)("p",{className:"text-2xl flex items-center",children:[Object(qe.jsx)(tt.a,{fontSize:"large"}),Object(qe.jsx)("span",{className:"ml-3",children:"Rejected Leads"})]}),Object(qe.jsx)("p",{className:"text-2xl",children:v})]}),Object(qe.jsxs)("div",{className:" bg-blue-400 mr-2 rounded-lg w-full h-32 flex flex-col justify-center items-center p-6",children:[Object(qe.jsxs)("p",{className:"text-2xl flex items-center",children:[Object(qe.jsx)(nt.a,{fontSize:"large"}),Object(qe.jsx)("span",{className:"ml-3",children:"All Leads"})]}),Object(qe.jsx)("p",{className:"text-2xl",children:g})]})]}),Object(qe.jsxs)("div",{className:"w-full flex",children:[Object(qe.jsxs)("div",{className:" bg-purple-400 mr-2 rounded-lg w-full h-32 flex flex-col justify-center items-center p-6",children:[Object(qe.jsxs)("p",{className:"text-2xl flex items-center",children:[Object(qe.jsx)(ge.a,{fontSize:"large"}),Object(qe.jsx)("span",{className:"ml-3",children:"Total Organizations"})]}),Object(qe.jsx)("p",{className:"text-2xl",children:d.length})]}),Object(qe.jsxs)("div",{className:"bg-purple-400  mr-2 rounded-lg w-full h-32 flex flex-col justify-center items-center p-6",children:[Object(qe.jsxs)("p",{className:"text-2xl flex items-center",children:[Object(qe.jsx)(J.a,{fontSize:"large"}),Object(qe.jsx)("span",{className:"ml-3",children:"Total Contacts"})]}),Object(qe.jsx)("p",{className:"text-2xl",children:o.length})]})]})]}),Object(qe.jsxs)("div",{className:" max-h-lead w-full flex flex-col flex-1 items-center bg-white rounded-lg",children:[Object(qe.jsxs)("div",{className:"flex my-3 justify-between w-full px-4",children:[Object(qe.jsxs)("h2",{className:"text-2xl ml-4 w-max",children:["Follow Ups today ",Object(qe.jsx)(Ze.a,{})]}),Object(qe.jsx)("div",{className:"w-1/2 flex items-center justify-end",children:Object(qe.jsxs)("select",{className:"p-2 w-3/4 py-1 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",name:"",id:"",value:m,onChange:function(e){return h(e.target.value)},children:[Object(qe.jsx)("option",{value:"Today",selected:!0,children:"Today"}),Object(qe.jsx)("option",{value:"Upcoming",children:"Upcoming"}),Object(qe.jsx)("option",{value:"Completed",children:"Completed"}),Object(qe.jsx)("option",{value:"Missed",children:"Missed"})]})})]}),Object(qe.jsx)("div",{className:"h-68 w-full px-4 overflow-auto",children:null===i||void 0===i?void 0:i.map((function(e){var t=null===o||void 0===o?void 0:o.filter((function(t){return t._id===(null===e||void 0===e?void 0:e.contactId)}))[0];return Object(qe.jsx)(qe.Fragment,{children:Object(qe.jsx)(Qe,{name:t,fupFilter:m,fup:e})})}))})]})]})]})},rt=l(42),at=l(26),it=l(641),st=l(653),ot=l(642),dt=l(646),ut=l(336),jt=l(110),bt=(l(524),l(322)),xt=l.n(bt),mt=l(325),ht=l.n(mt),pt=l(324),ft=l.n(pt),Ot=l(323),gt=l.n(Ot),vt=l(326),yt=l.n(vt),Nt=l(327),wt=l.n(Nt),_t=l(320),St=l.n(_t),Ct=l(228),kt=l(640),Et=l(105),zt=l.n(Et),At=l(321),Rt=l.n(At),Dt=function(e){return{type:be,payload:e}},Tt=["indeterminate"],Ft=c.a.forwardRef((function(e,t){var l=e.indeterminate,n=Object(d.a)(e,Tt),r=c.a.useRef(),a=t||r;return c.a.useEffect((function(){a.current.indeterminate=l}),[a,l]),Object(qe.jsx)(qe.Fragment,{children:Object(qe.jsx)("input",Object(o.a)({type:"checkbox",ref:a},n))})}));function qt(e){var t=e.preGlobalFilteredRows,l=e.globalFilter,n=e.setGlobalFilter,r=t.length,a=c.a.useState(l),i=Object(u.a)(a,2),s=i[0],o=i[1],d=Object(jt.useAsyncDebounce)((function(e){n(e||void 0)}),200);return Object(qe.jsxs)("span",{className:"font-semibold",children:["Search:"," ",Object(qe.jsx)("input",{className:"ml-2 px-2 py-1 focus:outline-none rounded-md focus:ring-1 ring-red-1 ",value:s||"",onChange:function(e){o(e.target.value),d(e.target.value)},placeholder:"Search ".concat(r," records..."),style:{fontSize:"1.1rem",border:"0"}})]})}function It(e,t,l){var n=l[0]?new Date(l[0]).toDateString():void 0,c=l[1]?new Date(new Date(l[1]).setDate(new Date(l[1]).getDate()-1)).toDateString():void 0;return console.log(n,c),c||n?e.filter((function(e){var l=new Date(e.values[t]).toDateString();return c&&n?l>=n&&l<=c:n?l>=n:c?l<=c:void 0})):e}function Pt(e,t,l){return Object(ut.a)(e,l,{keys:[function(e){return e.values[t]}]})}It.autoRemove=function(e){return!e},Pt.autoRemove=function(e){return!e};var Lt=function(e){var t=e.columns,l=e.data,r=e.customer,a=e.not_customer,i=e.deleteFunc,d=e.update,j=e.path,b=e.refresh,x=e.tablepath,m=e.text,h=e.isContact,p=e.isOrg,f=Object(n.useState)([]),O=Object(u.a)(f,2),g=O[0],v=O[1],y=Object(M.b)(),N=Object(s.g)(),w=Object(n.useState)("All"),_=Object(u.a)(w,2),S=_[0],C=_[1],k=c.a.useMemo((function(){return{fuzzyText:Pt,dateBetween:It,text:function(e,t,l){return e.filter((function(e){var n=e.values[t];return void 0===n||String(n).toLowerCase().startsWith(String(l).toLowerCase())}))}}}),[]),E=Object(jt.useTable)({columns:t,data:"All"===S?l:"Customer"===S?r:a,filterTypes:k,initialState:{pageIndex:0}},jt.useFilters,jt.useGlobalFilter,jt.useSortBy,jt.usePagination,jt.useRowSelect,(function(e){e.visibleColumns.push((function(e){return[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return Object(qe.jsx)("div",{children:Object(qe.jsx)(Ft,Object(o.a)({},t()))})},Cell:function(e){var t=e.row;return Object(qe.jsx)("div",{children:Object(qe.jsx)(Ft,Object(o.a)({},t.getToggleRowSelectedProps()))})}}].concat(Object(at.a)(e))}))})),z=E.getTableProps,A=E.getTableBodyProps,R=E.headerGroups,D=E.prepareRow,T=E.page,F=E.canPreviousPage,q=E.canNextPage,I=E.pageOptions,P=E.pageCount,L=E.gotoPage,B=E.nextPage,U=E.previousPage,J=E.setPageSize,H=E.preGlobalFilteredRows,W=E.visibleColumns,V=E.state,Q=E.setGlobalFilter,G=E.setAllFilters,Z=E.state,K=Z.pageIndex,$=Z.pageSize,Y=Z.selectedRowIds;Object(n.useEffect)((function(){var e=Object.keys(Y),t=new Array;e.forEach((function(e,n){t.push(l[e])})),v(t)}),[Y]);var X=c.a.useState(null),ee=Object(u.a)(X,2),te=ee[0],le=ee[1],ne=Boolean(te),ce=function(){le(null)};return Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)("div",{className:"w-full flex justify-end bg-white rounded-t-lg mt-4",children:Object(qe.jsxs)("div",{className:"flex w-full justify-between items-center",children:[Object(qe.jsxs)("div",{className:"pl-1",children:[p?null:Object(qe.jsx)(it.a,{title:"Refresh",children:Object(qe.jsx)(st.a,{onClick:function(){return y(b())},children:Object(qe.jsx)(kt.a,{style:{fontSize:"35px"}})})}),Object(qe.jsx)(it.a,{title:"Export data",children:Object(qe.jsx)(st.a,{id:"basic-button","aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":ne?"true":void 0,onClick:function(e){le(e.currentTarget)},style:{outlineWidth:"0"},children:Object(qe.jsx)(St.a,{style:{fontSize:"35px"}})})}),Object(qe.jsxs)(ot.a,{id:"basic-menu",anchorEl:te,open:ne,onClose:ce,MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(qe.jsx)(dt.a,{onClick:ce,children:Object(qe.jsx)(Ct.CSVLink,{data:g,children:"Download Selected"})}),Object(qe.jsx)(dt.a,{onClick:ce,children:Object(qe.jsx)(Ct.CSVLink,{data:l,children:"Download All"})})]}),Object(qe.jsx)(it.a,{title:"Clear all filters",children:Object(qe.jsx)(st.a,{onClick:function(){G([])},children:Object(qe.jsx)(Rt.a,{style:{fontSize:"35px"}})})})]}),Object(qe.jsx)("div",{className:"pagination",children:Object(qe.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center items-center",children:[Object(qe.jsxs)("div",{className:"flex flex-row",children:[Object(qe.jsx)(it.a,{title:"First Page",children:Object(qe.jsx)(st.a,{onClick:function(){return L(0)},disabled:!F,children:Object(qe.jsx)(xt.a,{fontSize:"large"})})}),Object(qe.jsx)(it.a,{title:"Previous Page",children:Object(qe.jsx)(st.a,{onClick:function(){return U()},disabled:!F,children:Object(qe.jsx)(gt.a,{fontSize:"large"})})}),Object(qe.jsx)(it.a,{title:"Next Page",children:Object(qe.jsx)(st.a,{onClick:function(){return B()},disabled:!q,children:Object(qe.jsx)(ft.a,{fontSize:"large"})})}),Object(qe.jsx)(it.a,{title:"Last Page",children:Object(qe.jsx)(st.a,{onClick:function(){return L(P-1)},disabled:!q,children:Object(qe.jsx)(ht.a,{fontSize:"large"})})})]}),Object(qe.jsxs)("div",{className:"flex items-center justify-center",children:[Object(qe.jsxs)("span",{children:["Page",Object(qe.jsxs)("strong",{className:"mr-1",children:[K+1," of ",I.length]})]}),Object(qe.jsx)("div",{className:"hidden sm:flex",children:Object(qe.jsxs)("span",{children:["| Go to page:",Object(qe.jsx)("input",{className:"px-2 py-1 mx-1 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",defaultValue:K+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;L(t)},style:{width:"100px"}})]})}),Object(qe.jsx)("select",{className:"py-1 px-2 mx-1 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",value:$,onChange:function(e){J(Number(e.target.value))},children:[10,20,30,40,50].map((function(e){return Object(qe.jsxs)("option",{value:e,children:["Show ",e]},e)}))})]})]})})]})}),Object(qe.jsx)("div",{className:"px-4 pb-4 bg-white overflow-x-auto rounded-b-lg",children:Object(qe.jsxs)("table",Object(o.a)(Object(o.a)({},z()),{},{children:[Object(qe.jsxs)("thead",{children:[Object(qe.jsx)("tr",{children:Object(qe.jsx)("th",{colSpan:W.length+2,style:{textAlign:"left"},children:Object(qe.jsxs)("div",{className:"flex items-center justify-between",children:[Object(qe.jsx)(qt,{preGlobalFilteredRows:H,globalFilter:V.globalFilter,setGlobalFilter:Q}),Object(qe.jsxs)("div",{className:"flex items-center",children:[h?Object(qe.jsxs)("div",{className:"font-semibold",children:[Object(qe.jsx)("label",{children:"Contact type: "}),Object(qe.jsxs)("select",{className:"border border-gray-300 rounded-md mr-4 outline-none",value:S,onChange:function(e){return C(e.target.value)},children:[Object(qe.jsx)("option",{selected:!0,value:"All",children:"All"}),Object(qe.jsx)("option",{value:"Customer",children:"Customer"}),Object(qe.jsx)("option",{value:"Not a customer",children:"Not a customer"})]})]}):null,R.map((function(e){return e.headers.map((function(e){return Object(qe.jsx)(qe.Fragment,{children:e.canFilter&&"Created At"===e.Header?e.render("Filter"):null})}))}))]})]})})}),R.map((function(e,t){return Object(qe.jsx)("tr",Object(o.a)(Object(o.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e,t){return Object(qe.jsxs)("th",Object(o.a)(Object(o.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(qe.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(qe.jsx)(yt.a,{}):Object(qe.jsx)(wt.a,{}):""})]}),t)}))}),t)}))]}),Object(qe.jsx)("tbody",Object(o.a)(Object(o.a)({},A()),{},{children:T.map((function(e,t){return D(e),Object(qe.jsxs)("tr",Object(o.a)(Object(o.a)({},e.getRowProps()),{},{children:[Object(qe.jsx)(qe.Fragment,{children:e.cells.map((function(t,n){return Object(qe.jsx)(qe.Fragment,{children:"item_name"===t.column.id||"name"===t.column.id||"company"===t.column.id?Object(qe.jsx)("td",Object(o.a)(Object(o.a)({style:{cursor:"pointer"},onClick:function(){y(d(l[e.id])),N.push("".concat(x,"/").concat(l[e.id]._id))}},t.getCellProps()),{},{children:t.render("Cell")}),n):Object(qe.jsx)("td",Object(o.a)(Object(o.a)({},t.getCellProps()),{},{children:t.render("Cell")}),n)})}))}),"/organizationdetail"!==x?Object(qe.jsxs)(qe.Fragment,{children:[" ",Object(qe.jsx)("td",{className:"w-max p-1 px-0",children:Object(qe.jsxs)("div",{className:"flex justify-evenly items-center",children:[Object(qe.jsx)(st.a,{onClick:function(){y(Dt({show:!0,text:m,func:function(){y(i(l[e.id]._id))}}))},children:Object(qe.jsx)(Me.a,{})}),Object(qe.jsx)("div",{className:"h-6 bg-gray-300 border border-r-1"}),Object(qe.jsx)(st.a,{onClick:function(){y(d(l[e.id])),N.push("".concat(j,"/").concat(l[e.id]._id))},children:Object(qe.jsx)(zt.a,{})})]})})]}):null]}),t)}))}))]}))})]})},Bt=function(e){return{type:ee,payload:e}},Ut=function(){return function(e){Ne.get("/leads").then((function(t){var l;e((l=t.data,{type:K,payload:l}))})).catch((function(e){return console.log(e)}))}},Jt=function(e,t,l,n){return function(l){var c=G.a.get("JWT"),r=JSON.parse(localStorage.getItem("user"));console.log(e),Ne.post("/create-lead/".concat(r._id),e,{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){var c;n&&l(Te(n)),l((c=e.data,{type:te,payload:c})),t(),l(fe({message:"Lead created successfully",error:!1}))})).catch((function(e){console.log(e),l(fe({message:"Error creating lead",error:!0})),t()}))}},Ht=function(e){return function(t){var l=G.a.get("JWT"),n=JSON.parse(localStorage.getItem("user"));Ne.delete("/lead/".concat(e,"/").concat(n._id),{headers:{Authorization:"Bearer ".concat(l)}}).then((function(l){t(fe({message:"Lead deleted successfully",error:!1})),t(function(e){return{type:X,payload:e}}(e))})).catch((function(e){t(fe({message:"Error deleting lead",error:!0}))}))}},Wt=function(e){return function(t){Ne.get("/lead/".concat(e)).then((function(e){t(Bt(e.data))})).catch()}};var Vt=function(e){var t,l=e.column,c=l.filterValue,r=void 0===c?[]:c,a=l.preFilteredRows,i=l.setFilter,s=l.id,o=Object(n.useMemo)((function(){var e=a.length?new Date(a[0].values[s]):new Date(0),t=a.length?new Date(a[0].values[s]):new Date(0);return a.forEach((function(l){var n=new Date(l.values[s]);e=n<=e?n:e,t=n>=t?n:t})),[e,t]}),[s,a]),d=Object(u.a)(o,2),j=d[0],b=d[1];return Object(qe.jsxs)("div",{className:"flex font-semibold items-center",children:[Object(qe.jsx)("p",{className:"mr-4 ",children:"Filter by date: "}),Object(qe.jsxs)("div",{children:[Object(qe.jsx)("input",{min:new Date(new Date(j).setDate(j.getDate()+1)).toISOString().slice(0,10),max:new Date(new Date(b).setDate(b.getDate()+1)).toISOString().slice(0,10),onChange:function(e){var t=e.target.value;i((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[t||void 0,e[1]]}))},type:"date",value:r[0]||"",className:"border border-gray-300 p-1 rounded-lg"})," to ",Object(qe.jsx)("input",{min:new Date(new Date(j).setDate(j.getDate()+1)).toISOString().slice(0,10),max:new Date(new Date(b).setDate(b.getDate()+1)).toISOString().slice(0,10),onChange:function(e){var t=e.target.value;i((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[e[0],t?t.concat("T23:59:59.999Z"):void 0]}))},type:"date",value:(null===(t=r[1])||void 0===t?void 0:t.slice(0,10))||"",className:"border border-gray-300 p-1 rounded-lg"})]})]})},Mt=function(){var e,t=Object(s.g)(),l=Object(M.c)((function(e){return e.lead.leads})),c=Object(rt.a)(l);try{for(c.s();!(e=c.n()).done;){var r=e.value;r.createdAt=new Date(r.createdAt).toLocaleString("en-US",{year:"numeric",day:"numeric",month:"numeric"}),r.updatedAt=new Date(r.updatedAt).toLocaleString("en-US",{year:"numeric",day:"numeric",month:"numeric"})}}catch(d){c.e(d)}finally{c.f()}var a=[{accessor:"title",Header:"Title"},{accessor:"name",Header:"Name"},{accessor:"phone",Header:"Phone"},{accessor:"status",Header:"Lead Status"},{accessor:"company",Header:"Company"},{accessor:"rating",Header:"Rating"},{accessor:"updatedAt",Header:"Created At",Filter:Vt,filter:"dateBetween"},{accessor:"email",Header:"Email"}],i=Object(n.useMemo)((function(){return a}),[]),o=Object(n.useMemo)((function(){return l}),[l]);return Object(qe.jsxs)("div",{className:"mt-10 mx-4",children:[Object(qe.jsxs)("div",{className:"bg-white flex justify-between items-center p-3",children:[Object(qe.jsx)("h2",{className:"text-2xl font-bold m-0 ml-2",children:"Leads"}),Object(qe.jsx)("button",{onClick:function(){t.push("/createlead")},className:"bg-green-500 hover:bg-green-600 text-white p-4 py-2 rounded-md",children:"Create Lead"})]}),Object(qe.jsx)(Lt,{columns:i,data:o,deleteFunc:Ht,update:Bt,path:"/updatelead",refresh:Ut,tablepath:"/leaddetail",isLead:!0})]})},Qt=l(28),Gt=l(51),Zt=function(){var e=Object(M.c)((function(e){return e.contact.contact})),t=Object(M.b)(),l=(Object(s.g)(),Object(Qt.a)({initialValues:{contact:"",message:""},validate:function(e){var t={};return e.contact||(t.contact="*Required"),e.message||(t.message="*Required"),t}})),n=l.getFieldProps,c=l.errors,r=l.values,a=l.resetForm,i=l.setFieldValue,d=[];return e.forEach((function(e){d.push({value:e._id,label:e.name+"("+e.phone+")"+("NA"!==e.company?"(".concat(e.company,")"):"")})})),Object(qe.jsx)("div",{children:Object(qe.jsxs)("div",{className:"mt-10 mx-4",children:[Object(qe.jsxs)("div",{className:"bg-white lg:w-1/2 flex justify-between items-center p-4 mb-4 rounded-lg",children:[Object(qe.jsx)("h2",{className:"text-xl font-bold m-0",children:"Message"}),Object(qe.jsx)("button",{onClick:function(){t(Ce({show:!0,phone:null,fromLead:!1}))},className:"bg-green-500 hover:bg-green-600 text-white p-4 py-2 rounded-md",children:"Create Contact"})]}),Object(qe.jsxs)("div",{className:"bg-white lg:w-1/2 p-4 flex-1 flex flex-col rounded-lg",children:[Object(qe.jsxs)("div",{className:"px-2 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Select Contact"}),Object(qe.jsx)(Gt.a,{theme:function(e){return Object(o.a)(Object(o.a)({},e),{},{borderRadius:5,colors:Object(o.a)(Object(o.a)({},e.colors),{},{primary25:"lightgray",primary:"lightgray"})})},options:d,onChange:function(e){i("contact",e.value)}}),c.contact?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:c.contact}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Enter Message"}),Object(qe.jsx)("textarea",Object(o.a)({rows:8,className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter message"},n("message"))),c.message?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:c.message}):null]}),Object(qe.jsx)("button",{onClick:function(e){!function(e){if(e.preventDefault(),0===Object.keys(c).length){var l=JSON.parse(localStorage.getItem("user")),n=G.a.get("JWT");Ne.post("/send-sms/".concat(r.contact,"/").concat(l._id),{message:r.message},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){a(),t(fe({message:"Message sent successfully",error:!1}))})).catch((function(e){a(),t(fe({message:"Error sending message",error:!0}))}))}else t(fe({message:"Fill fields properly",error:!0}))}(e)},className:"bg-green-600 mt-3 hover:bg-green-700 px-5 py-2 text-lg rounded-md my-4 mx-2 text-white",children:"Send Message"})]})]})})},Kt=function(e){return{type:ne,payload:e}},$t=function(){return function(e){Ne.get("/inventories").then((function(t){var l;e((l=t.data,{type:le,payload:l}))})).catch((function(e){return console.log(e)}))}},Yt=function(e){return function(t){var l=G.a.get("JWT"),n=JSON.parse(localStorage.getItem("user"));Ne.delete("/inventory/".concat(e,"/").concat(n._id),{headers:{Authorization:"Bearer ".concat(l)}}).then((function(l){t(fe({message:"Inventory deleted successfully",error:!1})),t(function(e){return{type:ce,payload:e}}(e))})).catch((function(e){t(fe({message:"Error deleting inventory",error:!0}))}))}},Xt=l(46),el=l.n(Xt),tl=function(e){var t=e.show,l=e.setShow,c=Object(M.b)(),r=Object(M.c)((function(e){return e.inventory.inventory})),a=Object(Qt.a)({initialValues:{id:"",sku:""},validate:function(e){var t={};return e.sku||(t.sku="*Required"),e.id||(t.id="*Required"),t}}),i=a.getFieldProps,s=a.errors,d=a.values,u=a.setValues,j=a.setFieldValue,b=a.resetForm,x=[];r.forEach((function(e){x.push({value:e._id,label:e.item_name+"("+e.article+")"})}));return Object(n.useEffect)((function(){var e,t=null===r||void 0===r||null===(e=r.filter((function(e){return e._id===(null===d||void 0===d?void 0:d.id)}))[0])||void 0===e?void 0:e.sku;u(Object(o.a)(Object(o.a)({},d),{},{sku:t}))}),[d.id,r]),Object(qe.jsx)("div",{className:"".concat(t?"block":"hidden","  fixed top-1/2 right-1/2 transform translate-x-1/2 z-50 -translate-y-1/2 flex justify-center items-center w-full h-full bg-black bg-opacity-20 mt-10 mx-4  "),children:Object(qe.jsxs)("div",{className:"bg-white rounded-md shadow-2xl w-1/4 ",children:[Object(qe.jsx)("div",{className:"w-full flex justify-end",children:Object(qe.jsx)(v.a,{onClick:function(){return l(!1)},children:Object(qe.jsx)(el.a,{})})}),Object(qe.jsx)("h3",{className:"text-center text-xl font-semibold mb-6",children:"Update SKU"}),Object(qe.jsxs)("div",{className:"px-6 pb-6",children:[Object(qe.jsxs)("div",{children:[Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)(Gt.a,{theme:function(e){return Object(o.a)(Object(o.a)({},e),{},{borderRadius:5,colors:Object(o.a)(Object(o.a)({},e.colors),{},{primary25:"lightgray",primary:"lightgray"})})},options:x,onChange:function(e){j("id",e.value)}}),s.id?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:s.id}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"SKU"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter message"},i("sku"))),s.sku?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:s.sku}):null]})]}),Object(qe.jsx)("div",{className:"px-2 mt-6 flex flex-col w-full",children:Object(qe.jsx)(k.a,{onClick:function(e){!function(e){if(e.preventDefault(),0===Object.keys(s).length){var t=G.a.get("JWT"),n=JSON.parse(localStorage.getItem("user"));Ne.patch("/inventory/".concat(d.id,"/").concat(n._id),{sku:d.sku},{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){l(!1),c($t()),b(),c(fe({message:"Inventory updated successfully",error:!1}))})).catch((function(e){c(fe({message:"Error updating inventory",error:!0})),b()}))}else c(fe({message:"Fill fields properly",error:!0}))}(e)},style:{backgroundColor:"rgba(16, 185, 129, var(--tw-bg-opacity))",color:"white"},children:"Update SKU"})})]})]})})},ll=function(){var e,t=Object(s.g)(),l=Object(M.c)((function(e){return e.inventory.inventory})),c=Object(rt.a)(l);try{for(c.s();!(e=c.n()).done;){var r=e.value;r.createdAt=new Date(null===r||void 0===r?void 0:r.createdAt).toLocaleString("en-US",{year:"numeric",day:"numeric",month:"numeric"}),r.updatedAt=new Date(null===r||void 0===r?void 0:r.updatedAt).toLocaleString("en-US",{year:"numeric",day:"numeric",month:"numeric"})}}catch(m){c.e(m)}finally{c.f()}var a=[{accessor:"type",Header:"Type"},{accessor:"item_name",Header:"Item Name"},{accessor:"article",Header:"Article"},{accessor:"sku",Header:"SKU"},{accessor:"brand",Header:"Brand"},{accessor:"manufacturer",Header:"Manufacturer"},{accessor:"sale_price",Header:"Sales price"},{accessor:"purchase_price",Header:"Purchase price"},{accessor:"isbn_code",Header:"ISBN Code"},{accessor:"createdAt",Header:"Created At",Filter:Vt,filter:"dateBetween"}],i=Object(n.useMemo)((function(){return a}),[]),o=Object(n.useMemo)((function(){return l}),[l]),d=Object(n.useState)(!1),j=Object(u.a)(d,2),b=j[0],x=j[1];return Object(qe.jsxs)("div",{className:"mt-10 mx-4",children:[Object(qe.jsx)(tl,{show:b,setShow:x}),Object(qe.jsxs)("div",{className:"bg-white flex justify-between items-center p-4 mb-4 rounded-lg",children:[Object(qe.jsx)("h2",{className:"text-xl font-bold m-0",children:"Inventory"}),Object(qe.jsxs)("div",{children:[Object(qe.jsx)("button",{onClick:function(){x(!0)},className:"bg-green-500 hover:bg-green-600 text-white p-4 py-2 mr-4 rounded-md",children:"Update Inventory"}),Object(qe.jsx)("button",{onClick:function(){t.push("/createinventory")},className:"bg-green-500 hover:bg-green-600 text-white p-4 py-2 rounded-md",children:"Create Inventory"})]})]}),Object(qe.jsx)(Lt,{columns:i,data:o,deleteFunc:Yt,update:Kt,path:"/updateinventory",refresh:$t,tablepath:"/inventorydetails",text:"Are you sure you want to delete?",isContact:!1,isOrg:!1})]})},nl=function(){var e,t=Object(M.b)(),l=Object(M.c)((function(e){return e.contact.contact})),c=Object(rt.a)(l);try{for(c.s();!(e=c.n()).done;){var r=e.value;r.createdAt=new Date(r.createdAt).toLocaleString("en-US",{year:"numeric",day:"numeric",month:"numeric"})}}catch(u){c.e(u)}finally{c.f()}var a=[{accessor:"name",Header:"Name"},{accessor:"phone",Header:"Phone"},{accessor:"email",Header:"Email"},{accessor:"whatsapp_no",Header:"Whatsapp No."},{accessor:"department",Header:"Department",isVisible:!1},{accessor:"createdAt",Header:"Created At",Filter:Vt,filter:"dateBetween"}],i=Object(n.useMemo)((function(){return a}),[]),s=[],o=[];l.forEach((function(e){e.isCustomer?s.push(e):o.push(e)}));var d=Object(n.useMemo)((function(){return l}),[l]);return Object(qe.jsx)("div",{children:Object(qe.jsxs)("div",{className:"mt-10 mx-4",children:[Object(qe.jsxs)("div",{className:"bg-white flex justify-between rounded-lg items-center p-4 mb-4",children:[Object(qe.jsx)("h2",{className:"text-xl font-bold m-0",children:"Contacts"}),Object(qe.jsx)("button",{onClick:function(){t(Ce({show:!0,phone:null,fromLead:!1}))},className:"bg-green-500 hover:bg-green-600 text-white p-4 py-2 rounded-md",children:"Create Contact"})]}),Object(qe.jsx)(Lt,{columns:i,data:d,customer:s,not_customer:o,deleteFunc:De,update:we,path:"/updatecontact",refresh:ze,tablepath:"/contactdetail",text:"Are you sure you want to delete contact? \n All leads will also be deleted.",isContact:!0,isOrg:!1})]})})},cl=function(){var e,t=Object(M.b)(),l=Object(M.c)((function(e){return e.contact.organizations})),c=Object(rt.a)(l);try{for(c.s();!(e=c.n()).done;){var r=e.value;r.createdAt=new Date(r.createdAt).toLocaleString("en-US",{year:"numeric",day:"numeric",month:"numeric"})}}catch(u){c.e(u)}finally{c.f()}var a=[{accessor:"name",Header:"Organization Name"},{accessor:"type",Header:"Type"},{accessor:"address",Header:"Address"},{accessor:"createdAt",Header:"Created At",Filter:Vt,filter:"dateBetween"}],i=Object(n.useMemo)((function(){return a}),[]),s=Object(n.useMemo)((function(){return l}),[l]),o=[],d=[];return null===l||void 0===l||l.forEach((function(e){e.isCustomer?o.push(e):d.push(e)})),Object(qe.jsx)("div",{children:Object(qe.jsxs)("div",{className:"mt-10 mx-4",children:[Object(qe.jsxs)("div",{className:"bg-white flex justify-between items-center p-4 mb-4 rounded-lg",children:[Object(qe.jsx)("h2",{className:"text-xl font-bold m-0",children:"Organizations"}),Object(qe.jsx)("button",{onClick:function(){t(ke({show:!0}))},className:"bg-green-500 hover:bg-green-600 text-white p-4 py-2 rounded-md",children:"Create Organization"})]}),Object(qe.jsx)(Lt,{columns:i,data:s,customer:o,not_customer:d,deleteFunc:De,update:Ee,path:"/updatecontact",refresh:Ae,tablepath:"/organizationdetail",text:"Are you sure you want to delete organization? \n All leads will also be deleted.",isContact:!0,isOrg:!1})]})})},rl=l(192),al=l.n(rl),il=function(e){var t=e.setCreateContact,l=e.setCreateOrg,n=Object(M.b)(),c=Object(Qt.a)({initialValues:{type:"",name:"",street:"",city:"",state:"",country:"",zipcode:""},validate:function(e){var t={};return e.type||(t.type="*Required"),e.name||(t.name="*Required"),e.street||(t.street="*Required"),e.country||(t.country="*Required"),e.state||(t.state="*Required"),e.city||(t.city="*Required"),e.zipcode||(t.zipcode="*Required"),t}}),r=c.getFieldProps,a=c.errors,i=c.values,s=c.resetForm;return Object(qe.jsxs)("div",{className:"flex justify-center items-center flex-col",children:[Object(qe.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(qe.jsx)("div",{className:"bg-white px-4 pt-4 pb-2 flex-1 flex flex-col",children:Object(qe.jsxs)("div",{className:"px-2 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Organization Name"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter name"},r("name"))),a.name?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.name}):null]})}),Object(qe.jsx)("div",{className:"bg-white p-4 flex-1 flex flex-col",children:Object(qe.jsxs)("div",{className:"px-2 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Organization Type"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter department"},r("type"))),a.type?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.type}):null]})}),Object(qe.jsxs)("div",{className:"bg-white px-4 pb-2 w-full flex flex-col mt-2",children:[Object(qe.jsx)("h3",{className:"text-lg font-semibold pl-2",children:"Address"}),Object(qe.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(qe.jsxs)("div",{className:"flex-col flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Street"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter street"},r("street"))),a.street?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.street}):null]}),Object(qe.jsxs)("div",{className:"flex-col flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Country"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter country"},r("country"))),a.country?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.country}):null]}),Object(qe.jsxs)("div",{className:"flex-col flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"State"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter state"},r("state"))),a.state?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.state}):null]})]}),Object(qe.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(qe.jsxs)("div",{className:"flex-col flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"City"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter city"},r("city"))),a.city?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.city}):null]}),Object(qe.jsxs)("div",{className:"flex-col flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"ZIP code"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter zip code"},r("zipcode"))),a.zipcode?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.zipcode}):null]})]})]})]}),Object(qe.jsx)("button",{onClick:function(e){return function(e){if(e.preventDefault(),0===Object.keys(a).length&&""!==i.name){var c=G.a.get("JWT"),r=JSON.parse(localStorage.getItem("user"));Ne.post("/create-organization/".concat(r._id),{name:i.name,type:i.type,address:"".concat(i.street,", ").concat(i.city,", ").concat(i.state,", ").concat(i.country,", ").concat(i.zipcode)},{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){s(),n(fe({message:"Organization Created Successfully",error:!1})),t(!0),l(!1)})).catch((function(e){n(fe({message:"Error creating organization",error:!0}))}))}else n(fe({message:"Fill fields properly",error:!0}))}(e)},className:"bg-green-600 w-max hover:bg-green-700 px-5 py-2 text-lg rounded-md m-4 mb-0 text-white",children:"Save Organization"})]})},sl=function(e){var t=e.type,l=e.setType,c=Object(M.c)((function(e){return e.contact.contact})),r=Object(n.useState)(null),a=Object(u.a)(r,2),i=a[0],d=a[1],j=Object(n.useState)([]),b=Object(u.a)(j,2),x=b[0],m=b[1],h=Object(M.b)(),p=Object(s.g)(),f=[];Object(n.useEffect)((function(){Ne.get("/organizations").then((function(e){m(e.data)}))}),[]),x.forEach((function(e){f.push({value:null===e||void 0===e?void 0:e._id,label:null===e||void 0===e?void 0:e.name})}));var O=Object(Qt.a)({initialValues:{organization:"",name:"",phone:"",email:"",department:"",title:"",whatsapp_no:"",description:"",street:"",city:"",state:"",country:"",zipcode:"",website:""},validate:function(e){var l={};if(e.name||(l.name="*Required"),"2"===t?delete l.organization:e.organization||(l.organization="*Required"),e.phone){if(10!==e.phone.toString().length)l.phone="Length should be 10";else if(10===e.phone.toString().length){var n=!1;c.forEach((function(t){t.phone===e.phone&&(n=!0,d(t._id))})),n&&(l.phone="Contact already exists")}}else l.phone="*Required";return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(l.email="Invalid email address"):l.email="*Required",0===e.whatsapp_no.toString().length?delete l.whatsapp_no:10!==e.whatsapp_no.toString().length&&(l.whatsapp_no="Length should be 10"),e.street||(l.street="*Required"),e.country||(l.country="*Required"),e.state||(l.state="*Required"),e.city||(l.city="*Required"),e.zipcode||(l.zipcode="*Required"),l}}),g=O.getFieldProps,v=O.errors,y=O.resetForm,N=O.values,w=O.setFieldValue;return console.log(v),Object(qe.jsxs)("div",{className:"flex flex-col items-center",children:[Object(qe.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(qe.jsxs)("div",{className:"bg-white px-4 pt-4 pb-2 flex-1 flex flex-col",children:["2"!==t?Object(qe.jsxs)("div",{className:"px-2 mb-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Organization"}),Object(qe.jsx)(Gt.a,{theme:function(e){return Object(o.a)(Object(o.a)({},e),{},{borderRadius:5,colors:Object(o.a)(Object(o.a)({},e.colors),{},{primary25:"lightgray",primary:"lightgray"})})},options:f,onChange:function(e){w("organization",e.value)}}),v.organization?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:v.organization}):null]}):null,Object(qe.jsxs)("div",{className:"px-2 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Name"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter name"},g("name"))),v.name?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:v.name}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Phone number"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter phone number"},g("phone"))),v.phone?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:v.phone}):null]}),"Contact already exists"===v.phone?Object(qe.jsx)("div",{className:"flex justify-end",children:Object(qe.jsx)(k.a,{onClick:function(){p.push("/contactdetail/".concat(i)),h(Ce({show:!1,phone:null,fromLead:!1})),l("")},className:"w-max",style:{backgroundColor:"#54a3ff",color:"white",textTransform:"capitalize",marginTop:"10px"},children:"Go to contact"})}):null,Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Email"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2  border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter email"},g("email"))),v.email?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:v.email}):null]})]}),Object(qe.jsxs)("div",{className:"bg-white p-4 flex-1 flex flex-col",children:["2"!==t?Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsxs)("div",{className:"px-2 mb-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Department"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter department"},g("department")))]}),Object(qe.jsxs)("div",{className:"px-2 mb-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Title"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter title"},g("title")))]})]}):null,Object(qe.jsxs)("div",{className:"px-2 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Whatsapp number"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter whatsapp number"},g("whatsapp_no"))),v.whatsapp_no?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:v.whatsapp_no}):null]}),Object(qe.jsxs)("div",{className:"p-2 w-full mt-1 flex flex-col",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Description"}),Object(qe.jsx)("textarea",Object(o.a)({className:" p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter description"},g("description")))]})]}),Object(qe.jsxs)("div",{className:"bg-white px-4 pb-2 w-full flex flex-col mt-2",children:[Object(qe.jsx)("h3",{className:"text-lg font-semibold pl-2",children:"Address"}),Object(qe.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(qe.jsxs)("div",{className:"flex-col mt-3 flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Street"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter street"},g("street"))),v.street?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:v.street}):null]}),Object(qe.jsxs)("div",{className:"flex-col mt-3 flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Country"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter country"},g("country"))),v.country?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:v.country}):null]}),Object(qe.jsxs)("div",{className:"flex-col mt-3 flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"State"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter state"},g("state"))),v.state?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:v.state}):null]})]}),Object(qe.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(qe.jsxs)("div",{className:"flex-col flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"City"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter city"},g("city"))),v.city?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:v.city}):null]}),Object(qe.jsxs)("div",{className:"flex-col flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"ZIP code"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter zip code"},g("zipcode"))),v.zipcode?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:v.zipcode}):null]})]})]})]}),Object(qe.jsx)("button",{onClick:function(e){return function(e){e.preventDefault(),0===Object.keys(v).length&&""!==N.name?h(Re("2"===t?{name:N.name,phone:N.phone,email:N.email,whatsapp_no:N.whatsapp_no,description:N.description,street:N.street,city:N.city,state:N.state,country:N.country,zipcode:N.zipcode,website:N.website}:N,y,p,l)):h(fe({message:"Fill fields properly",error:!0}))}(e)},className:"bg-green-600 hover:bg-green-700 px-5 py-2 text-lg rounded-md m-4 mb-0 text-white",children:"Save Contact"})]})},ol=function(e){e.phone;var t=e.show,l=(e.fromLead,Object(M.b)()),c=Object(n.useState)(!1),r=Object(u.a)(c,2),a=r[0],i=r[1],s=Object(n.useState)(!1),o=Object(u.a)(s,2),d=o[0],j=o[1],b=Object(n.useState)(""),x=Object(u.a)(b,2),m=x[0],h=x[1];return Object(n.useEffect)((function(){i("1"===m),j("2"===m||"0"===m)}),[m]),Object(qe.jsx)("div",{className:"".concat(t?"block":"hidden"," fixed top-1/2 right-1/2 transform translate-x-1/2 -translate-y-1/2 flex justify-center items-center w-full h-full bg-black bg-opacity-20 mt-10 mx-4  z-50 shadow-2xl"),children:Object(qe.jsxs)("div",{className:"w-1/2 bg-white flex flex-col pb-4 items-center rounded-lg",children:[" ",Object(qe.jsx)("div",{className:"w-full flex justify-end",children:Object(qe.jsx)(v.a,{onClick:function(){l(Ce({show:!1,phone:null,fromLead:!1})),h("")},children:Object(qe.jsx)(el.a,{})})}),Object(qe.jsxs)("div",{className:"p-4 w-full flex justify-center flex-col items-center",children:[Object(qe.jsx)("h2",{className:"text-2xl font-semibold m-0",children:"Create Contact"}),Object(qe.jsxs)("div",{className:"px-6 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Type"}),Object(qe.jsxs)("select",{className:"p-2 w-full border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",name:"",id:"",value:m,onChange:function(e){return h(e.target.value)},children:[Object(qe.jsx)("option",{value:"",selected:!0,style:{color:"lightgray"},children:"Select type"}),Object(qe.jsx)("option",{value:"0",children:"Existing Organization"}),Object(qe.jsx)("option",{value:"1",children:"New Organization"}),Object(qe.jsx)("option",{value:"2",children:"Individual"})]})]}),""===m?null:Object(qe.jsxs)(qe.Fragment,{children:[a?Object(qe.jsx)(il,{setCreateOrg:i,setCreateContact:j}):null,d?Object(qe.jsx)(sl,{type:m,setType:h}):null]})]})]})})},dl=function(){var e=Object(M.b)(),t=Object(M.c)((function(e){return e.inventory.inventory})),l=Object(M.c)((function(e){return e.contact.contact})),c=(Object(s.g)(),Object(n.useState)(!1)),r=Object(u.a)(c,2),a=r[0],i=r[1],d=Object(n.useState)(""),j=Object(u.a)(d,2),b=j[0],x=j[1],m=[];t.forEach((function(e){m.push({value:e._id,label:e.item_name+"("+e.article+")"})}));var h=Object(Qt.a)({initialValues:{title:"",phone:"",items:[],description:""},validate:function(e){var t={};if(e.name||(t.name="*Required"),e.title||(t.title="*Required"),e.phone){if(10!==e.phone.toString().length)t.phone="Length should be 10";else if(10===e.phone.toString().length){var n=!1;l.forEach((function(t){t.phone===e.phone&&(n=!0)})),n||(t.phone="Contact does not exists create new")}}else t.phone="*Required";return 0!==e.items.length&&e.items.forEach((function(e,l){e.item||(t.items="Select all items")})),t}}),p=h.getFieldProps,f=h.errors,O=h.values,g=h.setValues,y=h.setFieldValue,N=h.resetForm;return Object(qe.jsxs)("form",{className:"m-10 flex flex-col items-center",children:[Object(qe.jsx)(ol,{setAddContact:i,addContact:a,contact:b}),Object(qe.jsx)("div",{className:"bg-white flex justify-between items-center p-4 mb-4 w-full",children:Object(qe.jsx)("h2",{className:"text-xl font-bold m-0",children:"Create Lead"})}),Object(qe.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(qe.jsxs)("div",{className:"bg-white px-4 pt-4 pb-2 flex-1 flex flex-col mr-1",children:[Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Phone number"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter phone number"},p("phone"))),f.phone?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:f.phone}):null,"Contact does not exists create new"===f.phone?Object(qe.jsx)("div",{className:"flex justify-end",children:Object(qe.jsx)(k.a,{onClick:function(){i(!0),x(O.phone)},className:"w-max",style:{backgroundColor:"#54a3ff",color:"white",textTransform:"capitalize",marginTop:"10px"},children:"Add Contact"})}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 mb-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Title"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter title"},p("title"))),f.title?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:f.title}):null]})]}),Object(qe.jsx)("div",{className:"bg-white p-4 flex-1 flex flex-col",children:Object(qe.jsxs)("div",{className:"p-2 w-full mb-3 flex flex-col",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Description"}),Object(qe.jsx)("textarea",Object(o.a)({className:" p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter description"},p("description")))]})})]}),Object(qe.jsxs)("div",{className:"bg-white px-4 pt-4 pb-2 w-full flex flex-col mt-4",children:[Object(qe.jsxs)("div",{className:"flex items-center",children:[Object(qe.jsx)("p",{className:"text-lg font-semibold",children:"Add Items:"}),Object(qe.jsx)(v.a,{onClick:function(){g(Object(o.a)(Object(o.a)({},O),{},{items:[].concat(Object(at.a)(O.items),[{_id:"",quantity:"",updatedSalePrice:"0"}])}))},children:Object(qe.jsx)(al.a,{})})]}),f.items?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:f.items}):null,Object(qe.jsx)("div",{children:Object(qe.jsx)("div",{className:" flex flex-col w-full mb-2",children:O.items.map((function(e,t){return Object(qe.jsxs)("div",{className:"flex w-1/2 p-2 items-center",children:[Object(qe.jsxs)("div",{className:"w-1/2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Item"}),Object(qe.jsx)(Gt.a,{theme:function(e){return Object(o.a)(Object(o.a)({},e),{},{borderRadius:5,colors:Object(o.a)(Object(o.a)({},e.colors),{},{primary25:"lightgray",primary:"lightgray"})})},options:m,onChange:function(e){y("items[".concat(t,"].item"),e.value)}})]}),Object(qe.jsxs)("div",{className:"ml-2 w-1/2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Quantity"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 w-full border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter quantity"},p("items[".concat(t,"].quantity"))))]}),Object(qe.jsx)(v.a,{style:{marginTop:"14px",marginLeft:"5px",padding:"5px"},onClick:function(){g(Object(o.a)(Object(o.a)({},O),{},{items:O.items.filter((function(e,l){return l!==t}))}))},children:Object(qe.jsx)(el.a,{})})]})}))})})]}),Object(qe.jsx)("button",{onClick:function(t){!function(t){t.preventDefault(),e(Jt(O,N))}(t)},className:"bg-green-600 mt-3 hover:bg-green-700 px-5 py-2 text-lg rounded-md m-4 text-white",children:"Save Lead"})]})},ul=l(66),jl=l.n(ul),bl=l(129),xl=function(){Object(M.b)(),Object(M.c)((function(e){return e.user.user}));var e=Object(M.c)((function(e){return e.inventory.inventory})),t=Object(M.c)((function(e){return e.lead.updatelead})),l=(Object(s.g)(),Object(Qt.a)({initialValues:t,validate:function(e){var t={};return e.owner||(t.owner="*Required"),e.name||(t.name="*Required"),e.title||(t.title="*Required"),e.phone?10!==e.phone.toString().length&&(t.phone="Length should be 10"):t.phone="*Required",e.industry||(t.industry="*Required"),e.item||(t.item="*Required"),e.status||(t.status="*Required"),e.company||(t.company="*Required"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="*Required",e.rating||(t.rating="*Required"),e.whatsapp_number?10!==e.whatsapp_number.toString().length&&(t.whatsapp_number="Length should be 10"):t.whatsapp_number="*Required",e.street||(t.street="*Required"),e.country||(t.country="*Required"),e.state||(t.state="*Required"),e.city||(t.city="*Required"),e.zipcode||(t.zipcode="*Required"),e.description||(t.description="*Required"),t},onSubmit:function(){var e=Object(bl.a)(jl.a.mark((function e(t,l){return jl.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.resetForm;case 1:case"end":return e.stop()}}),e)})));return function(t,l){return e.apply(this,arguments)}}()})),n=l.getFieldProps,c=l.handleSubmit,r=l.errors;l.values;return Object(qe.jsxs)("form",{onSubmit:c,className:"m-10 flex flex-col items-center",children:[Object(qe.jsx)("div",{className:"bg-white flex justify-between items-center p-4 mb-4 w-full",children:Object(qe.jsx)("h2",{className:"text-xl font-bold m-0",children:"Create Lead"})}),Object(qe.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(qe.jsxs)("div",{className:"bg-white px-4 pt-4 pb-2 flex-1 flex flex-col",children:[Object(qe.jsxs)("div",{className:"px-2 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Lead Owner"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter lead owner"},n("owner"))),r.owner?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.owner}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Name"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter name"},n("name"))),r.name?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.name}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Title"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter title"},n("title"))),r.title?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.title}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Phone number"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter phone number"},n("phone"))),r.phone?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.phone}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Industry"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter industry"},n("industry"))),r.industry?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.industry}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Item"}),Object(qe.jsxs)("select",Object(o.a)(Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",name:"",id:""},n("item")),{},{children:[Object(qe.jsx)("option",{value:"",selected:!0,hidden:!0,style:{color:"lightgray"},children:"Select Item"}),Object(qe.jsx)("option",{value:"615c5b3b5fa55e21fc0d7a6b",children:"Attempted to Contact"}),e.map((function(e,t){return Object(qe.jsx)("option",{value:e._id,children:e.item_name},t)}))]})),r.item?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.item}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Lead Status"}),Object(qe.jsxs)("select",Object(o.a)(Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",name:"",id:""},n("status")),{},{children:[Object(qe.jsx)("option",{value:"",selected:!0,hidden:!0,style:{color:"lightgray"},children:"Select lead status"}),Object(qe.jsx)("option",{value:"Attempted to Contact",children:"Attempted to Contact"}),Object(qe.jsx)("option",{value:"Contact in Future",children:"Contact in Future"}),Object(qe.jsx)("option",{value:"Contacted",children:"Contacted"}),Object(qe.jsx)("option",{value:"Junk Lead",children:"Junk Lead"}),Object(qe.jsx)("option",{value:"Lost Lead",children:"Lost Lead"}),Object(qe.jsx)("option",{value:"Not Contacted",children:"Not Contacted"}),Object(qe.jsx)("option",{value:"Pre-Qualified",children:"Pre-Qualified"}),Object(qe.jsx)("option",{value:"Not Qualified",children:"Not Qualified"})]})),r.status?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.status}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 mb-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Annual Income"}),Object(qe.jsx)("input",{className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter annual income"})]})]}),Object(qe.jsxs)("div",{className:"bg-white p-4 flex-1 flex flex-col",children:[Object(qe.jsxs)("div",{className:"px-2 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Company"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter company name"},n("company"))),r.company?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.company}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Email"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"email",placeholder:"Enter email"},n("email"))),r.email?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.email}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Website"}),Object(qe.jsx)("input",{className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter website"})]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Total Employees"}),Object(qe.jsx)("input",{className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter number of employees"})]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Rating"}),Object(qe.jsxs)("select",Object(o.a)(Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",name:"",id:""},n("rating")),{},{children:[Object(qe.jsx)("option",{value:"",selected:!0,style:{color:"lightgray"},children:"Select rating"}),Object(qe.jsx)("option",{value:"Acquired",children:"Acquired"}),Object(qe.jsx)("option",{value:"Active",children:"Active"}),Object(qe.jsx)("option",{value:"Market Failed",children:"Market Failed"}),Object(qe.jsx)("option",{value:"Project Cancelled",children:"Project Cancelled"}),Object(qe.jsx)("option",{value:"Shut Down",children:"Shut Down"})]})),r.rating?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.rating}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 mb-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Whatsapp Number"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter whatsapp number"},n("whatsapp_number"))),r.whatsapp_number?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.whatsapp_number}):null]})]})]}),Object(qe.jsxs)("div",{className:"bg-white px-4 pt-4 pb-2 w-full flex flex-col mt-4",children:[Object(qe.jsx)("h3",{className:"text-lg font-semibold pl-2",children:"Address"}),Object(qe.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(qe.jsxs)("div",{className:"flex-col mt-3 flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Street"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter street"},n("street"))),r.street?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.street}):null]}),Object(qe.jsxs)("div",{className:"flex-col mt-3 flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Country"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter country"},n("country"))),r.country?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.country}):null]}),Object(qe.jsxs)("div",{className:"flex-col mt-3 flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"State"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter state"},n("state"))),r.state?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.state}):null]})]}),Object(qe.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(qe.jsxs)("div",{className:"flex-col mt-3 flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"City"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter city"},n("city"))),r.city?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.city}):null]}),Object(qe.jsxs)("div",{className:"flex-col mt-3 flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"ZIP code"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter zip code"},n("zipcode"))),r.zipcode?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.zipcode}):null]})]}),Object(qe.jsxs)("div",{className:"p-2 w-full mt-3 mb-3 flex flex-col",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Description"}),Object(qe.jsx)("textarea",Object(o.a)({className:" p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter description"},n("description"))),r.description?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.description}):null]})]}),Object(qe.jsx)("button",{type:"submit",className:"bg-green-600 mt-3 hover:bg-green-700 px-5 py-2 text-lg rounded-md m-4 text-white",children:"Save Lead"})]})},ml=function(){var e,t,l=Object(M.b)(),c=Object(M.c)((function(e){return e.contact.update})),r=Object(s.g)(),a=Object(M.c)((function(e){return e.contact.contact})),i=Object(M.c)((function(e){return e.contact.update})),d=Object(n.useState)([]),j=Object(u.a)(d,2),b=j[0],x=j[1],m=[];Object(n.useEffect)((function(){Ne.get("/organizations").then((function(e){x(e.data)}))}),[]),b.forEach((function(e){m.push({value:null===e||void 0===e?void 0:e._id,label:null===e||void 0===e?void 0:e.name})}));var h=Object(s.h)().id;Object(n.useEffect)((function(){l(Te(h))}),[l,h]);var p=Object(Qt.a)({initialValues:{},validate:function(e){var t,l={};if(0===e.phone.toString().length)l.phone="";else if(10!==e.phone.toString().length)l.phone="Length should be 10";else if(10===e.phone.toString().length){var n=!1;a.forEach((function(t){t.phone===e.phone&&e.phone!==c.phone&&(n=!0)})),n&&(l.phone="Contact already exists")}return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(l.email="Invalid email address"),(null===e||void 0===e?void 0:e.whatsapp_no)?10!==(null===e||void 0===e||null===(t=e.whatsapp_no)||void 0===t?void 0:t.toString().length)&&(l.whatsapp_no="Length should be 10"):l.whatsapp_no="",l}}),f=p.getFieldProps,O=p.errors,g=p.resetForm,v=p.values,y=p.setValues,N=p.setFieldValue,w=function(e){e.preventDefault(),0===Object.keys(O).length?l(function(e,t,l,n){return function(c){console.log(t);var r=G.a.get("JWT"),a=JSON.parse(localStorage.getItem("user"));Ne.patch("/update-contact/".concat(e,"/").concat(a._id),t,{headers:{Authorization:"Bearer ".concat(r)}}).then((function(t){c(Te(e)),l(),n.push("/contactdetail/".concat(e)),c(fe({message:"Contact updated successfully",error:!1}))})).catch((function(e){console.log(e),c(fe({message:"Error updating contact",error:!0})),l()}))}}(c._id,v,g,r)):l(fe({message:"Fill fields properly",error:!0}))};return Object(n.useEffect)((function(){var e;i.organization?y({organization:null===i||void 0===i||null===(e=i.organization)||void 0===e?void 0:e._id,department:null===i||void 0===i?void 0:i.department,title:null===i||void 0===i?void 0:i.title,name:null===i||void 0===i?void 0:i.name,phone:null===i||void 0===i?void 0:i.phone,email:null===i||void 0===i?void 0:i.email,whatsapp_no:null===i||void 0===i?void 0:i.whatsapp_no,description:null===i||void 0===i?void 0:i.description,website:null===i||void 0===i?void 0:i.website,street:null===i||void 0===i?void 0:i.street,city:null===i||void 0===i?void 0:i.city,state:null===i||void 0===i?void 0:i.state,country:null===i||void 0===i?void 0:i.country,zipcode:null===i||void 0===i?void 0:i.zipcode}):y({name:null===i||void 0===i?void 0:i.name,phone:null===i||void 0===i?void 0:i.phone,email:null===i||void 0===i?void 0:i.email,whatsapp_no:null===i||void 0===i?void 0:i.whatsapp_no,description:null===i||void 0===i?void 0:i.description,website:null===i||void 0===i?void 0:i.website,street:null===i||void 0===i?void 0:i.street,city:null===i||void 0===i?void 0:i.city,state:null===i||void 0===i?void 0:i.state,country:null===i||void 0===i?void 0:i.country,zipcode:null===i||void 0===i?void 0:i.zipcode})}),[i,y]),Object(qe.jsxs)("div",{className:"mt-10 mx-4 flex flex-col items-center",children:[Object(qe.jsx)("div",{className:"bg-white flex justify-between items-center p-4 mb-4 w-full rounded-lg",children:Object(qe.jsx)("h2",{className:"text-xl font-bold m-0",children:"Update Contact"})}),Object(qe.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(qe.jsxs)("div",{className:"bg-white px-4 pt-4 pb-2 flex-1 flex flex-col rounded-l-lg",children:[i.organization?Object(qe.jsxs)("div",{className:"px-2 mb-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Organization"}),Object(qe.jsx)(Gt.a,{theme:function(e){return Object(o.a)(Object(o.a)({},e),{},{borderRadius:5,colors:Object(o.a)(Object(o.a)({},e.colors),{},{primary25:"lightgray",primary:"lightgray"})})},defaultValue:{label:null===i||void 0===i||null===(e=i.organization)||void 0===e?void 0:e.name,value:null===i||void 0===i||null===(t=i.organization)||void 0===t?void 0:t._id},options:m,onChange:function(e){N("organization",e.value)}}),O.organization?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:O.organization}):null]}):null,Object(qe.jsxs)("div",{className:"px-2 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Name"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter name"},f("name"))),O.name?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:O.name}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Phone number"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter phone number"},f("phone"))),O.phone?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:O.phone}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Email"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2  border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter email"},f("email"))),O.email?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:O.email}):null]})]}),Object(qe.jsxs)("div",{className:"bg-white p-4 flex-1 flex flex-col rounded-r-lg",children:[i.organization?Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsxs)("div",{className:"px-2 mb-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Department"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter department"},f("department")))]}),Object(qe.jsxs)("div",{className:"px-2 mb-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Title"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter title"},f("title")))]})]}):null,Object(qe.jsxs)("div",{className:"px-2 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Whatsapp number"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter whatsapp number"},f("whatsapp_no"))),O.whatsapp_no?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:O.whatsapp_no}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Website"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter whatsapp number"},f("website")))]}),Object(qe.jsxs)("div",{className:"p-2 w-full mt-3 mb-3 flex flex-col",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Description"}),Object(qe.jsx)("textarea",Object(o.a)({className:" p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter description"},f("description")))]})]}),Object(qe.jsxs)("div",{className:"bg-white px-4 pt-4 pb-2 w-full flex flex-col mt-4 rounded-lg",children:[Object(qe.jsx)("h3",{className:"text-lg font-semibold pl-2",children:"Address"}),Object(qe.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(qe.jsxs)("div",{className:"flex-col mt-3 flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Street"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter street"},f("street"))),O.street?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:O.street}):null]}),Object(qe.jsxs)("div",{className:"flex-col mt-3 flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Country"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter country"},f("country"))),O.country?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:O.country}):null]}),Object(qe.jsxs)("div",{className:"flex-col mt-3 flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"State"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter state"},f("state"))),O.state?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:O.state}):null]})]}),Object(qe.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(qe.jsxs)("div",{className:"flex-col flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"City"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter city"},f("city"))),O.city?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:O.city}):null]}),Object(qe.jsxs)("div",{className:"flex-col flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"ZIP code"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter zip code"},f("zipcode"))),O.zipcode?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:O.zipcode}):null]})]})]})]}),Object(qe.jsx)("button",{onClick:function(e){return w(e)},className:"bg-green-600 mt-3 hover:bg-green-700 px-5 py-2 text-lg rounded-md m-4 text-white",children:"Update Contact"})]})},hl=function(e){var t=e.setShow,l=e.lead,n=e.id,c=Object(M.b)(),r=Object(Qt.a)({initialValues:{stage:""}}),a=r.getFieldProps,i=r.values,s=r.resetForm,d=G.a.get("JWT"),u=JSON.parse(localStorage.getItem("user")),j=Object(M.c)((function(e){return e.contact.update})),b=function(){Ne.patch("/dispatch-order/".concat(l._id,"/").concat(u._id),{},{headers:{Authorization:"Bearer ".concat(d)}}).then((function(e){Ne.patch("/update-stage/".concat(l._id,"/").concat(u._id),{stage:"Dispatched"},{headers:{Authorization:"Bearer ".concat(d)}}).then((function(e){s(),c(Te(j._id)),c(fe({message:"Order dispatched",error:!1})),c($t())})).catch((function(e){c(fe({message:"Error dispatching order",error:!0}))}))}))};return Object(qe.jsx)("div",{children:Object(qe.jsxs)("div",{className:"bg-gray-100 w-full px-4 py-2 rounded-md flex justify-between items-center mb-2 cursor-pointer",children:[Object(qe.jsxs)("div",{onClick:function(){t(!0),c(Bt(l))},className:"flex items-center justify-between w-4/6 ",children:[Object(qe.jsxs)("div",{className:"".concat("Active"===(null===l||void 0===l?void 0:l.status)?"text-green-500":"Cancelled"===(null===l||void 0===l?void 0:l.status)?"text-red-500":"text-blue-500"," flex flex-col"),children:[Object(qe.jsxs)("p",{className:"text-base font-semibold",children:["Title:",Object(qe.jsx)("span",{className:"pl-2 font-medium",children:null===l||void 0===l?void 0:l.title})]}),Object(qe.jsxs)("p",{className:"text-base font-semibold",children:["Date:",Object(qe.jsx)("span",{className:"pl-2 font-medium",children:new Date(null===l||void 0===l?void 0:l.createdAt).toLocaleString("en-US",{day:"2-digit",month:"short",year:"numeric"})})]})]}),Object(qe.jsxs)("p",{className:"text-lg font-semibold mr-4",children:["Stage:",Object(qe.jsx)("span",{className:"pl-2 font-medium",children:null===l||void 0===l?void 0:l.stage})]})]}),Object(qe.jsxs)("div",{children:[Object(qe.jsxs)("select",Object(o.a)(Object(o.a)({className:"p-3 py-1 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",name:"",id:""},a("stage")),{},{children:[Object(qe.jsx)("option",{value:"",selected:!0,style:{color:"lightgray"},children:"Select stage"}),Object(qe.jsx)("option",{value:"Preliminary",children:"Preliminary"}),Object(qe.jsx)("option",{value:"Qualified",children:"Qualified"}),Object(qe.jsx)("option",{value:"Converted",children:"Converted"}),Object(qe.jsx)("option",{value:"Quotation",children:"Quotation"}),Object(qe.jsx)("option",{value:"Negotiation",children:"Negotiation"}),Object(qe.jsx)("option",{value:"Order Form",children:"Order Form"}),Object(qe.jsx)("option",{value:"Dispatched",children:"Dispatched"}),Object(qe.jsx)("option",{value:"Invoice",children:"Invoice"})]})),i.stage?Object(qe.jsx)(v.a,{onClick:function(){var e=G.a.get("JWT"),t=JSON.parse(localStorage.getItem("user"));"Dispatched"===i.stage?c(Dt({show:!0,func:b,text:"Are you sure you want to dispatch order?"})):"Invoice"===i.stage&&"Dispatched"!==(null===l||void 0===l?void 0:l.stage)?c(fe({message:"Order not dispatched yet!!!",error:!0})):Ne.patch("/update-stage/".concat(l._id,"/").concat(t._id),{stage:i.stage},{headers:{Authorization:"Bearer ".concat(e)}}).then((function(n){s(),"Invoice"===n.data.stage&&Ne.patch("/update-status/".concat(l._id,"/").concat(t._id),{status:"Completed"},{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){c(Te(j._id))}))}))},children:Object(qe.jsx)(We.a,{})}):null,Object(qe.jsx)(v.a,{onClick:function(){c(Dt({text:"Are you sure, you want to delete lead?",func:function(){Ne.delete("delete-lead/".concat(l._id,"/").concat(u._id),{headers:{Authorization:"Bearer ".concat(d)}}).then((function(e){c(Te(n)),c(fe({message:"Lead deleted successfully",error:!1}))})).catch((function(){c(fe({message:"Error deleting lead",error:!0}))}))},show:!0}))},children:Object(qe.jsx)(Me.a,{})})]})]})})},pl=function(e){var t=e.title,l=e.detail;return Object(qe.jsxs)("div",{className:"flex w-full",children:[Object(qe.jsxs)("p",{className:"flex text-lg font-semibold mr-2",children:[t,":"]}),Object(qe.jsx)("p",{className:"text-lg",children:l})]})},fl=function(e){var t,l=e.componentRef,n=e.lead,c=Object(M.c)((function(e){return e.inventory.inventory})),r=Object(M.c)((function(e){return e.contact.update})),a=[];null===n||void 0===n||null===(t=n.items)||void 0===t||t.forEach((function(e){var t=c.filter((function(t){var l;return(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l._id)}))[0];a.push({_id:null===t||void 0===t?void 0:t._id,sku:null===t||void 0===t?void 0:t.sku,item_name:null===t||void 0===t?void 0:t.item_name,article:null===t||void 0===t?void 0:t.article,sale_price:null===t||void 0===t?void 0:t.sale_price})}));var i=0;c.filter((function(e){var t;return(null===e||void 0===e?void 0:e._id)===(null===n||void 0===n||null===(t=n.item)||void 0===t?void 0:t._id)}));return Object(qe.jsx)("div",{className:"hidden",children:Object(qe.jsxs)("div",{ref:l,children:[Object(qe.jsxs)("div",{className:"my-2 px-2 flex justify-between relative ",children:[Object(qe.jsx)("img",{className:"w-26 absolute",src:V,alt:""}),Object(qe.jsxs)("div",{className:"bg-gradient-to-l from-logo-pink ... w-full text-right text-white p-2",children:[Object(qe.jsx)("p",{className:"text-xl font-semibold",children:"Nuovo Furnitures"}),Object(qe.jsx)("p",{children:"b-17/251, Near State Bank of India, Bus Stand Rd, Bharat Nagar,"}),Object(qe.jsx)("p",{children:"Ludhiana, India"}),Object(qe.jsx)("p",{children:"Ph: 9915699052"})]})]}),Object(qe.jsx)("h1",{className:"text-center mt-6 text-5xl font-semibold",children:"Quote"}),Object(qe.jsx)("p",{className:"px-2 pt-4 text-2xl font-semibold text-logo-pink",children:"Quotation for"}),Object(qe.jsxs)("div",{className:"flex justify-between w-3/4 my-2 px-2",children:[Object(qe.jsxs)("div",{className:"text-lg",children:[Object(qe.jsx)("p",{className:"font-semibold",children:null===r||void 0===r?void 0:r.company}),Object(qe.jsx)("p",{children:null===r||void 0===r?void 0:r.city}),Object(qe.jsx)("p",{children:null===r||void 0===r?void 0:r.state})]}),Object(qe.jsxs)("div",{className:"text-lg",children:[Object(qe.jsxs)("p",{children:[Object(qe.jsx)("span",{className:"font-semibold mr-2",children:"Date:"}),(new Date).toLocaleString("en-US",{month:"short",year:"numeric",day:"2-digit"})]}),Object(qe.jsxs)("p",{children:[Object(qe.jsx)("span",{className:"font-semibold mr-2",children:"Quote No.:"}),null===n||void 0===n?void 0:n._id]})]})]}),Object(qe.jsxs)("div",{className:"px-2 mb-4 mt-4",children:[Object(qe.jsx)("p",{className:"text-xl font-semibold",children:"Representative Contacted:"}),Object(qe.jsx)("p",{className:"text-lg",children:null===r||void 0===r?void 0:r.name}),Object(qe.jsxs)("p",{className:"text-lg",children:["Mob.:- ",null===r||void 0===r?void 0:r.phone]})]}),Object(qe.jsx)("div",{className:"",children:Object(qe.jsx)("table",{children:Object(qe.jsxs)("tbody",{children:[Object(qe.jsxs)("tr",{className:"bg-logo-pink text-white",children:[Object(qe.jsx)("th",{children:"S.No."}),Object(qe.jsx)("th",{children:"Item Name"}),Object(qe.jsx)("th",{children:"Item description"}),Object(qe.jsx)("th",{children:"Remarks"}),Object(qe.jsx)("th",{children:"HSN No."}),Object(qe.jsx)("th",{children:"MRP"}),Object(qe.jsx)("th",{children:"Qty"}),Object(qe.jsx)("th",{children:"Quotation Price"}),Object(qe.jsx)("th",{children:"GST @18%"}),Object(qe.jsx)("th",{children:"Amount"})]}),null===n||void 0===n?void 0:n.items.map((function(e,t){var l,n,r,a=c.filter((function(t){var l;return t._id===(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l._id)}))[0],s=(null===e||void 0===e?void 0:e.quantity)*(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.sale_price)*(1+(null===a||void 0===a?void 0:a.gst)/100);return i+=s,Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("td",{children:t+1}),Object(qe.jsx)("td",{children:null===a||void 0===a?void 0:a.item_name}),Object(qe.jsx)("td",{children:null===a||void 0===a?void 0:a.description}),Object(qe.jsxs)("td",{width:"10",children:["Size:"," ",(null===a||void 0===a?void 0:a.length)+"*"+(null===a||void 0===a?void 0:a.width)+"*"+(null===a||void 0===a?void 0:a.height)]}),Object(qe.jsx)("td",{children:null===a||void 0===a?void 0:a.hsn_code}),Object(qe.jsxs)("td",{children:["\u20b9",(null===e||void 0===e?void 0:e.updatedSalePrice)>0?null===e||void 0===e?void 0:e.updatedSalePrice:null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.sale_price]}),Object(qe.jsx)("td",{children:null===e||void 0===e?void 0:e.quantity}),Object(qe.jsxs)("td",{children:["\u20b9",(null===e||void 0===e?void 0:e.quantity)*((null===e||void 0===e?void 0:e.updatedSalePrice)>0?null===e||void 0===e?void 0:e.updatedSalePrice:null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.sale_price)]}),Object(qe.jsx)("td",{children:null===a||void 0===a?void 0:a.gst}),Object(qe.jsxs)("td",{children:["\u20b9",s]})]})})),Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("th",{colSpan:"9",children:"Total"}),Object(qe.jsxs)("td",{children:["\u20b9",i]})]})]})})}),Object(qe.jsxs)("div",{className:"p-2",children:[Object(qe.jsx)("p",{children:"Notes:-"}),Object(qe.jsx)("p",{children:"# Transportation charges to client premises shall be borne by client on actual basis."}),Object(qe.jsx)("p",{children:"# Quotation is valid for 30 days from the date of quotation"}),Object(qe.jsx)("p",{children:"# 50% advance Rest 50% at the time of inspection / before dispatch of material."}),Object(qe.jsx)("p",{children:"# Picture given above are for representation. However, actual product may have slight variation. Colors can be chosen according to requriement from the shade card."}),Object(qe.jsx)("p",{children:"# Our all products carry one year standard warranty against any manufacturing defect."}),Object(qe.jsx)("p",{children:"For Nuovo Furnitures"}),Object(qe.jsx)("p",{children:"Nuovo Furnitures"}),Object(qe.jsx)("p",{children:"9915699052"})]})]})})},Ol=l(229),gl=l.n(Ol),vl=function(e){var t,l,n=e.componentRef,c=e.lead,r=Object(M.c)((function(e){return e.inventory.inventory})),a=Object(M.c)((function(e){return e.contact.update})),i=[];null===c||void 0===c||null===(t=c.items)||void 0===t||t.forEach((function(e){var t=r.filter((function(t){var l;return(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l._id)}))[0];i.push({_id:null===t||void 0===t?void 0:t._id,sku:null===t||void 0===t?void 0:t.sku,item_name:null===t||void 0===t?void 0:t.item_name,article:null===t||void 0===t?void 0:t.article,sale_price:null===t||void 0===t?void 0:t.sale_price})}));var s=0;r.filter((function(e){var t;return(null===e||void 0===e?void 0:e._id)===(null===c||void 0===c||null===(t=c.item)||void 0===t?void 0:t._id)}));return Object(qe.jsx)("div",{className:"hidden",children:Object(qe.jsxs)("div",{ref:n,children:[Object(qe.jsxs)("div",{className:"my-2 px-2 flex justify-between relative ",children:[Object(qe.jsx)("img",{className:"w-26 absolute",src:V,alt:""}),Object(qe.jsxs)("div",{className:"bg-gradient-to-l from-logo-pink ... w-full text-right text-white p-2",children:[Object(qe.jsx)("p",{className:"text-lg font-semibold",children:"Nuovo Furnitures"}),Object(qe.jsxs)("p",{children:["b-17/251, Near State Bank of India, ",Object(qe.jsx)("br",{})," Bus Stand Rd, Bharat Nagar,"]}),Object(qe.jsx)("p",{children:"Ludhiana, India"}),Object(qe.jsx)("p",{children:"Ph: 9915699052"})]})]}),Object(qe.jsxs)("div",{className:"text-md text-right p-2",children:[Object(qe.jsxs)("p",{children:[Object(qe.jsx)("span",{className:"font-semibold mr-2",children:"Date:"}),(new Date).toLocaleString("en-US",{month:"short",year:"numeric",day:"2-digit"})]}),Object(qe.jsxs)("p",{children:[Object(qe.jsx)("span",{className:"font-semibold mr-2",children:"Deal No.:"}),null===c||void 0===c?void 0:c._id]}),Object(qe.jsx)("h1",{className:"text-center mt-6 text-3xl font-semibold",children:"Order Form"})]}),Object(qe.jsxs)("div",{className:"px-2 mb-4 mt-4",children:[Object(qe.jsx)("p",{className:"font-semibold text-lg",children:null===a||void 0===a?void 0:a.company}),Object(qe.jsx)("p",{className:"text-lg",children:null===a||void 0===a?void 0:a.name}),Object(qe.jsx)("p",{className:"text-lg",children:(null===a||void 0===a?void 0:a.street)+", "+(null===a||void 0===a?void 0:a.city)+", "+(null===a||void 0===a?void 0:a.state)+", "+(null===a||void 0===a?void 0:a.country)+", "+(null===a||void 0===a?void 0:a.zipcode)}),Object(qe.jsxs)("p",{className:"text-lg",children:["Mob.:- ",null===a||void 0===a?void 0:a.phone]})]}),Object(qe.jsx)("div",{className:"",children:Object(qe.jsx)("table",{children:Object(qe.jsxs)("tbody",{children:[Object(qe.jsxs)("tr",{className:"bg-logo-pink text-white",children:[Object(qe.jsx)("th",{children:"Article No."}),Object(qe.jsx)("th",{children:"Colour"}),Object(qe.jsx)("th",{children:"Size"}),Object(qe.jsx)("th",{children:"Qty"}),Object(qe.jsx)("th",{children:"Unit Price"}),Object(qe.jsx)("th",{children:"Amount"})]}),null===c||void 0===c||null===(l=c.items)||void 0===l?void 0:l.map((function(e,t){var l,n,c=r.filter((function(t){var l;return t._id===(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l._id)}))[0],a=(null===e||void 0===e?void 0:e.quantity)*(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.sale_price)*(1+(null===c||void 0===c?void 0:c.gst)/100);return s+=a,Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("td",{children:null===c||void 0===c?void 0:c.article}),Object(qe.jsx)("td",{children:null===c||void 0===c?void 0:c.colour}),Object(qe.jsx)("td",{children:(null===c||void 0===c?void 0:c.length)+"*"+(null===c||void 0===c?void 0:c.width)+"*"+(null===c||void 0===c?void 0:c.height)}),Object(qe.jsx)("td",{children:null===e||void 0===e?void 0:e.quantity}),Object(qe.jsxs)("td",{children:["\u20b9",(null===e||void 0===e?void 0:e.updatedSalePrice)>0?null===e||void 0===e?void 0:e.updatedSalePrice:null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.sale_price]}),Object(qe.jsxs)("td",{children:["\u20b9",a]})]})})),Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("td",{colSpan:"4",children:"Payment Details: Cash/Cheque"}),Object(qe.jsx)("th",{children:"Total"}),Object(qe.jsxs)("td",{children:["\u20b9",s]})]}),Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("th",{colSpan:"5",children:Object(qe.jsx)("p",{className:"text-right",children:"Advance"})}),Object(qe.jsx)("td",{})]}),Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("th",{colSpan:"5",children:Object(qe.jsx)("p",{className:"text-right",children:"Balance"})}),Object(qe.jsx)("td",{})]})]})})}),Object(qe.jsxs)("div",{children:[Object(qe.jsxs)("p",{children:[Object(qe.jsx)("span",{children:"Terms & Condition: "}),"Order once confirmed can not be cancelled. ",Object(qe.jsx)("br",{}),"Transportation changes to client premises shall be borne by client on actual basis"]}),Object(qe.jsxs)("p",{children:[Object(qe.jsx)("span",{children:"Payment Terms: "}),"50% advance balance 50% at the time of delivery"]})]}),Object(qe.jsxs)("div",{className:"p-2 mt-16 flex justify-between",children:[Object(qe.jsx)("div",{className:"p-2 text-lg",children:Object(qe.jsx)("p",{children:"Signature of Representative"})}),Object(qe.jsx)("div",{className:"p-2 text-lg",children:Object(qe.jsx)("p",{children:"Signature of Purchaser"})})]})]})})},yl=function(e){var t=e.inventorySku,l=e.leadId,n=G.a.get("JWT"),c=JSON.parse(localStorage.getItem("user")),r=Object(M.b)(),a=Object(M.c)((function(e){return e.lead.selectedlead})),i=Object(Qt.a)({initialValues:{_id:"",sale_price:"",quantity:""},validate:function(e){var t={};return e._id||(t._id="*Required"),e.sale_price||(t.sale_price="*Required"),e.quantity||(t.quantity="*Required"),t}}),s=i.getFieldProps,d=i.errors,u=i.setFieldValue,j=i.resetForm,b=i.values,x=i.setValues,m=[];t.forEach((function(e){m.push({value:e._id,label:e.item_name+"("+e.article+")"})}));return Object(qe.jsxs)("div",{children:[Object(qe.jsxs)("div",{className:"mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Item"}),Object(qe.jsx)(Gt.a,{className:"w-1/2",theme:function(e){return Object(o.a)(Object(o.a)({},e),{},{borderRadius:5,colors:Object(o.a)(Object(o.a)({},e.colors),{},{primary25:"lightgray",primary:"lightgray"})})},options:m,onChange:function(e){var t,l,n,c,r,i,s,d=null===a||void 0===a||null===(t=a.items)||void 0===t||null===(l=t.filter((function(t){var l;return(null===t||void 0===t||null===(l=t.item)||void 0===l?void 0:l._id)===(null===e||void 0===e?void 0:e.value)}))[0])||void 0===l||null===(n=l.item)||void 0===n?void 0:n.sale_price,j=null===a||void 0===a||null===(c=a.items)||void 0===c||null===(r=c.filter((function(t){var l;return(null===t||void 0===t||null===(l=t.item)||void 0===l?void 0:l._id)===(null===e||void 0===e?void 0:e.value)}))[0])||void 0===r?void 0:r.updatedSalePrice,m=null===a||void 0===a||null===(i=a.items)||void 0===i||null===(s=i.filter((function(t){var l;return(null===t||void 0===t||null===(l=t.item)||void 0===l?void 0:l._id)===(null===e||void 0===e?void 0:e.value)}))[0])||void 0===s?void 0:s.quantity;x(Object(o.a)(Object(o.a)({},b),{},{sale_price:0===j?d:j,quantity:m})),u("_id",e.value)}}),d._id?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:d._id}):null]}),Object(qe.jsxs)("div",{children:[(null===b||void 0===b?void 0:b._id)?Object(qe.jsxs)("div",{className:"mt-2",children:[Object(qe.jsxs)("p",{children:["Item:"," ",Object(qe.jsx)("span",{children:t.filter((function(e){return e._id===b._id}))[0].item_name})]}),Object(qe.jsxs)("p",{children:["Article No.:"," ",Object(qe.jsx)("span",{children:t.filter((function(e){return e._id===b._id}))[0].article})]}),Object(qe.jsxs)("p",{children:["Original Sales Price:"," ",Object(qe.jsx)("span",{children:t.filter((function(e){return e._id===b._id}))[0].sale_price})]})]}):null,Object(qe.jsxs)("div",{className:" mt-2 flex flex-col",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Price"}),Object(qe.jsx)("input",Object(o.a)({type:"number",className:"p-2 border w-1/2 border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",placeholder:"Enter price"},s("sale_price"))),d.sale_price?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:d.sale_price}):null]}),Object(qe.jsxs)("div",{className:" mt-2 flex flex-col",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Quantity"}),Object(qe.jsx)("input",Object(o.a)({type:"number",className:"p-2 border w-1/2 border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",placeholder:"Enter quantity"},s("quantity"))),d.quantity?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:d.quantity}):null]})]}),Object(qe.jsx)("button",{onClick:function(e){!function(e){e.preventDefault(),0===Object.keys(d).length?Ne.patch("/update-item/".concat(l,"/").concat(c._id),b,{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){console.log(e),j(),r(Wt(l)),r(fe({message:"Item updated successfully",error:!1}))})).catch((function(e){r(fe({message:"Error updating item",error:!0}))})):r(fe({message:"Fill fields properly",error:!0}))}(e)},className:"bg-green-600 w-max mt-3 hover:bg-green-700 px-5 py-2 text-lg rounded-md text-white",children:"Update Item"})]})},Nl=function(e){var t,l,c,r=e.leadId,a=Object(n.useState)({item:!0,add:!1,price:!1}),i=Object(u.a)(a,2),s=i[0],d=i[1],j=G.a.get("JWT"),b=JSON.parse(localStorage.getItem("user")),x=Object(M.c)((function(e){return e.inventory.inventory})),m=Object(M.c)((function(e){return e.lead.selectedlead})),h=Object(M.b)(),p=[];null===m||void 0===m||null===(t=m.items)||void 0===t||t.forEach((function(e){var t=x.filter((function(t){var l;return(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l._id)}))[0];p.push({_id:null===t||void 0===t?void 0:t._id,sku:null===t||void 0===t?void 0:t.sku,item_name:null===t||void 0===t?void 0:t.item_name,article:null===t||void 0===t?void 0:t.article,sale_price:null===t||void 0===t?void 0:t.sale_price,gst:null===t||void 0===t?void 0:t.gst})}));var f=[];null===x||void 0===x||x.forEach((function(e){f.push({value:e._id,label:e.item_name+"("+e.article+")"})}));var O=Object(Qt.a)({initialValues:{_id:"",quantity:""},validate:function(e){var t,l={},n=null===x||void 0===x||null===(t=x.filter((function(t){return t._id===(null===e||void 0===e?void 0:e._id)}))[0])||void 0===t?void 0:t.sku;return e._id||(l._id="*Required"),e.quantity?e.quantity>n&&(l.quantity="Only ".concat(n," units available")):l.quantity="*Required",l}}),g=O.getFieldProps,y=O.errors,N=O.setFieldValue,w=O.resetForm,_=O.values;return Object(qe.jsx)("div",{children:Object(qe.jsxs)("div",{className:"m-10 ml-20",children:[Object(qe.jsxs)("div",{children:[Object(qe.jsx)(k.a,{onClick:function(){d({item:!0,add:!1,price:!1})},style:{backgroundColor:"".concat(s.item?"gray":"#54a3ff"),color:"white",textTransform:"capitalize",marginBottom:"10px",marginRight:"10px"},children:"All Items"}),Object(qe.jsx)(k.a,{onClick:function(){d({item:!1,add:!0,price:!1})},style:{backgroundColor:"".concat(s.add?"gray":"#54a3ff"),color:"white",textTransform:"capitalize",marginBottom:"10px"},children:"Add Item"}),Object(qe.jsx)(k.a,{onClick:function(){d({item:!1,add:!1,price:!0})},style:{backgroundColor:"".concat(s.price?"gray":"#54a3ff"),color:"white",textTransform:"capitalize",marginBottom:"10px",marginLeft:"10px"},children:"Updated Item"})]}),(null===s||void 0===s?void 0:s.item)?Object(qe.jsx)("div",{className:"mt-4",children:0===(null===m||void 0===m||null===(l=m.items)||void 0===l?void 0:l.length)?Object(qe.jsx)("p",{onClick:function(){d({item:!1,add:!0,price:!1})},className:"cursor-pointer hover:text-blue-400",children:"No items available add items"}):Object(qe.jsx)(qe.Fragment,{children:null===m||void 0===m||null===(c=m.items)||void 0===c?void 0:c.map((function(e,t){var l,n,c;return Object(qe.jsxs)("div",{className:"flex w-1/2 items-center",children:[Object(qe.jsxs)("div",{className:"bg-gray-100 p-1 w-full rounded-lg pl-4 mb-2",children:[Object(qe.jsxs)("p",{children:["Item: ",Object(qe.jsx)("span",{children:null===(l=p[t])||void 0===l?void 0:l.item_name})]}),Object(qe.jsxs)("p",{children:["Article No:"," ",Object(qe.jsx)("span",{children:null===(n=p[t])||void 0===n?void 0:n.article})]}),Object(qe.jsxs)("p",{children:["Quantity ",Object(qe.jsx)("span",{children:null===e||void 0===e?void 0:e.quantity})]}),Object(qe.jsxs)("p",{children:["Sale Price:",Object(qe.jsx)("span",{children:0===(null===e||void 0===e?void 0:e.updatedSalePrice)?null===(c=p[t])||void 0===c?void 0:c.sale_price:null===e||void 0===e?void 0:e.updatedSalePrice})]})]}),Object(qe.jsx)("div",{children:Object(qe.jsx)(v.a,{onClick:function(){var t;Ne.delete("/remove-item/".concat(null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t._id,"/").concat(m._id,"/").concat(b._id),{headers:{Authorization:"Bearer ".concat(j)}}).then((function(e){h(Wt(r))})).catch((function(e){}))},children:Object(qe.jsx)(el.a,{})})})]})}))})}):null,(null===s||void 0===s?void 0:s.add)?Object(qe.jsx)("div",{children:Object(qe.jsxs)("div",{className:"bg-white pb-2 w-full flex flex-col mt-4",children:[Object(qe.jsx)("div",{className:"px-2 my-3 flex flex-col w-full",children:Object(qe.jsxs)("div",{className:"w-full flex",children:[Object(qe.jsxs)("div",{className:"w-1/4",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Item"}),Object(qe.jsx)(Gt.a,{theme:function(e){return Object(o.a)(Object(o.a)({},e),{},{borderRadius:5,colors:Object(o.a)(Object(o.a)({},e.colors),{},{primary25:"lightgray",primary:"lightgray"})})},options:f,onChange:function(e){N("_id",e.value)}}),y._id?Object(qe.jsx)("div",{className:"ml-1 w-full text-sm text-red-400",children:y._id}):null]}),Object(qe.jsxs)("div",{className:"w-1/4",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Quantity"}),Object(qe.jsx)("input",Object(o.a)({type:"number",className:"p-2 border w-full ml-2 border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1"},g("quantity"))),y.quantity?Object(qe.jsx)("div",{className:"ml-1 w-full text-sm text-red-400",children:y.quantity}):null]})]})}),Object(qe.jsx)("button",{onClick:function(e){!function(e){e.preventDefault(),0===Object.keys(y).length?Ne.post("/add-item/".concat(m._id,"/").concat(b._id),_,{headers:{Authorization:"Bearer ".concat(j)}}).then((function(e){w(),h(Wt(m._id)),h(fe({message:"Item Added successfully",error:!1}))})).catch((function(e){h(fe({message:"Error adding item",error:!0}))})):h(fe({message:"Fill fields properly",error:!0}))}(e)},className:"bg-green-600 w-max mt-3 hover:bg-green-700 px-5 py-2 text-lg rounded-md mx-2 text-white",children:"Add items"})]})}):null,(null===s||void 0===s?void 0:s.price)?Object(qe.jsx)(yl,{lead:m,inventorySku:p,leadId:m._id}):null]})})},wl=function(e){var t,l=e.componentRef,n=e.lead,c=Object(M.c)((function(e){return e.inventory.inventory})),r=Object(M.c)((function(e){return e.contact.update})),a=[];null===n||void 0===n||null===(t=n.items)||void 0===t||t.forEach((function(e){var t=c.filter((function(t){var l;return(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l._id)}))[0];a.push({_id:null===t||void 0===t?void 0:t._id,sku:null===t||void 0===t?void 0:t.sku,item_name:null===t||void 0===t?void 0:t.item_name,article:null===t||void 0===t?void 0:t.article,sale_price:null===t||void 0===t?void 0:t.sale_price})}));var i=0;return Object(qe.jsx)("div",{className:"hidden",children:Object(qe.jsxs)("div",{ref:l,children:[Object(qe.jsxs)("div",{className:"my-2 px-2 flex justify-between relative ",children:[Object(qe.jsx)("img",{className:"w-26 absolute",src:V,alt:""}),Object(qe.jsxs)("div",{className:"bg-gradient-to-l from-logo-pink ... w-full text-right text-white p-2",children:[Object(qe.jsx)("p",{className:"text-xl font-semibold",children:"Nuovo Furnitures"}),Object(qe.jsxs)("p",{children:["b-17/251, Near State Bank of India, ",Object(qe.jsx)("br",{})," Bus Stand Rd, Bharat Nagar,"]}),Object(qe.jsx)("p",{children:"Ludhiana, India"}),Object(qe.jsx)("p",{children:"Ph: 9915699052"})]})]}),Object(qe.jsx)("h1",{className:"text-center mt-6 text-4xl font-semibold",children:"Invoice"}),Object(qe.jsx)("p",{className:"px-2 pt-4 text-xl font-semibold text-logo-pink",children:"Ordered by"}),Object(qe.jsxs)("div",{className:"flex justify-between w-3/4 my-2 px-2",children:[Object(qe.jsxs)("div",{className:"text-md",children:[Object(qe.jsx)("p",{className:"font-semibold",children:null===r||void 0===r?void 0:r.company}),Object(qe.jsx)("p",{children:null===r||void 0===r?void 0:r.city}),Object(qe.jsx)("p",{children:null===r||void 0===r?void 0:r.state})]}),Object(qe.jsxs)("div",{className:"text-md",children:[Object(qe.jsxs)("p",{children:[Object(qe.jsx)("span",{className:"font-semibold mr-2",children:"Date:"}),(new Date).toLocaleString("en-US",{month:"short",year:"numeric",day:"2-digit"})]}),Object(qe.jsxs)("p",{children:[Object(qe.jsx)("span",{className:"font-semibold mr-2",children:"Invoice No.:"}),null===n||void 0===n?void 0:n._id]})]})]}),Object(qe.jsxs)("div",{className:"px-2 mb-4 mt-4",children:[Object(qe.jsx)("p",{className:"text-lg font-semibold",children:"Representative Contacted:"}),Object(qe.jsx)("p",{className:"text-md",children:null===r||void 0===r?void 0:r.name}),Object(qe.jsxs)("p",{className:"text-md",children:["Mob.:- ",null===r||void 0===r?void 0:r.phone]})]}),Object(qe.jsx)("div",{className:"",children:Object(qe.jsx)("table",{children:Object(qe.jsxs)("tbody",{children:[Object(qe.jsxs)("tr",{className:"bg-logo-pink text-white text-md",children:[Object(qe.jsx)("th",{children:"S.No."}),Object(qe.jsx)("th",{children:"Item Name"}),Object(qe.jsx)("th",{children:"Remarks"}),Object(qe.jsx)("th",{children:"HSN No."}),Object(qe.jsx)("th",{children:"Qty"}),Object(qe.jsx)("th",{children:"Price"}),Object(qe.jsx)("th",{children:"GST @18%"}),Object(qe.jsx)("th",{children:"Amount"})]}),null===n||void 0===n?void 0:n.items.map((function(e,t){var l,n,r=c.filter((function(t){var l;return t._id===(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l._id)}))[0],a=(null===e||void 0===e?void 0:e.quantity)*(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.sale_price)*(1+(null===r||void 0===r?void 0:r.gst)/100);return i+=a,Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("td",{children:t+1}),Object(qe.jsx)("td",{children:null===r||void 0===r?void 0:r.item_name}),Object(qe.jsxs)("td",{width:"10",children:["Size:"," ",(null===r||void 0===r?void 0:r.length)+"*"+(null===r||void 0===r?void 0:r.width)+"*"+(null===r||void 0===r?void 0:r.height)]}),Object(qe.jsx)("td",{children:null===r||void 0===r?void 0:r.hsn_code}),Object(qe.jsx)("td",{children:null===e||void 0===e?void 0:e.quantity}),Object(qe.jsxs)("td",{children:["\u20b9",(null===e||void 0===e?void 0:e.quantity)*((null===e||void 0===e?void 0:e.updatedSalePrice)>0?null===e||void 0===e?void 0:e.updatedSalePrice:null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.sale_price)]}),Object(qe.jsx)("td",{children:null===r||void 0===r?void 0:r.gst}),Object(qe.jsxs)("td",{children:["\u20b9",a]})]})})),Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("th",{colSpan:"7",children:"Total"}),Object(qe.jsxs)("td",{children:["\u20b9",i]})]})]})})}),Object(qe.jsxs)("div",{className:"p-2",children:[Object(qe.jsx)("p",{children:"For Nuovo Furnitures"}),Object(qe.jsx)("p",{children:"Nuovo Furnitures"}),Object(qe.jsx)("p",{children:"9915699052"})]}),Object(qe.jsxs)("div",{className:"p-2 mt-16 flex justify-between",children:[Object(qe.jsx)("div",{className:"p-2 text-lg",children:Object(qe.jsx)("p",{children:"Signature of Representative"})}),Object(qe.jsx)("div",{className:"p-2 text-lg",children:Object(qe.jsx)("p",{children:"Signature of Purchaser"})})]})]})})},_l=function(e){var t,l,c,r,a,i=e.setShow,s=e.show,o=e.data,d=Object(n.useState)({details:!0,items:!1,quotation:!1,order:!1,invoice:!1}),j=Object(u.a)(d,2),b=j[0],x=j[1],m=G.a.get("JWT"),h=JSON.parse(localStorage.getItem("user")),p=Object(M.b)(),f=Object(M.c)((function(e){return e.inventory.inventory})),O=Object(M.c)((function(e){return e.contact.update})),g=Object(M.c)((function(e){return e.lead.selectedlead})),y=Object(n.useState)({status:"",error:""}),N=Object(u.a)(y,2),w=N[0],_=N[1],S=Object(n.useState)({stage:"",error:""}),C=Object(u.a)(S,2),E=C[0],z=C[1];Object(n.useEffect)((function(){p(Wt(null===g||void 0===g?void 0:g._id))}),[p,g._id]);var A=[];null===g||void 0===g||null===(t=g.items)||void 0===t||t.forEach((function(e){var t=f.filter((function(t){var l;return(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l._id)}))[0];A.push({_id:null===t||void 0===t?void 0:t._id,sku:null===t||void 0===t?void 0:t.sku,item_name:null===t||void 0===t?void 0:t.item_name,article:null===t||void 0===t?void 0:t.article,sale_price:null===t||void 0===t?void 0:t.sale_price,gst:null===t||void 0===t?void 0:t.gst})}));var R=0,D=Object(n.useRef)(),T=Object(n.useRef)(),F=Object(n.useRef)(),q="@media all {\n    .page-break {\n      display: none;\n    }\n  }\n  \n  @media print {\n    html, body {\n      height: initial !important;\n      overflow: initial !important;\n      -webkit-print-color-adjust: exact;\n    }\n  }\n  \n  @media print {\n    .page-break {\n      margin-top: 1rem;\n      display: block;\n      page-break-before: auto;\n    }\n  }\n  \n  @page {\n    size: auto;\n    margin: 10mm;\n  }",I=function(){Ne.patch("/dispatch-order/".concat(g._id,"/").concat(h._id),{},{headers:{Authorization:"Bearer ".concat(m)}}).then((function(e){Ne.patch("/update-stage/".concat(g._id,"/").concat(h._id),{stage:"Dispatched"},{headers:{Authorization:"Bearer ".concat(m)}}).then((function(e){p(Wt(g._id)),p(fe({message:"Order dispatched",error:!1})),p($t())})).catch((function(e){p(fe({message:"Error dispatching order",error:!0}))})),z({stage:"",error:""})}))};return Object(qe.jsx)("div",{className:"".concat(s?"block":"hidden"," fixed top-1/2 right-1/2 transform translate-x-1/2 -translate-y-1/2 z-40 shadow-2xl flex justify-center items-center w-full h-full bg-black bg-opacity-20 drop-shadow-2xl p-4"),children:Object(qe.jsxs)("div",{className:"bg-white w-3/4 h-3/4 rounded-t-lg",children:[Object(qe.jsxs)("div",{className:"h-full",children:[Object(qe.jsx)("div",{className:"w-full flex justify-end ",children:Object(qe.jsx)(v.a,{onClick:function(){i(!1),x({details:!0,items:!1,quotation:!1,order:!1,invoice:!1})},children:Object(qe.jsx)(el.a,{})})}),Object(qe.jsx)("div",{className:"flex justify-center flex-col",children:Object(qe.jsx)("div",{className:"w-full flex justify-center",children:Object(qe.jsxs)("div",{className:"p-2 border-b-2 w-max border-blue-300",children:[Object(qe.jsx)(k.a,{style:{textTransform:"capitalize",fontSize:"20px",color:"".concat(b.details?"#54a3ff":"black"),fontWeight:"".concat(b.details?"600":"500")},onClick:function(){x({details:!0,items:!1,quotation:!1,order:!1,invoice:!1})},children:"Details"}),Object(qe.jsx)(k.a,{style:{textTransform:"capitalize",fontSize:"20px",color:"".concat(b.items?"#54a3ff":"black"),fontWeight:"".concat(b.items?"600":"500")},onClick:function(){x({details:!1,items:!0,quotation:!1,order:!1,invoice:!1})},children:"Items"}),Object(qe.jsx)(k.a,{style:{textTransform:"capitalize",fontSize:"20px",color:"".concat(b.quotation?"#54a3ff":"black"),fontWeight:"".concat(b.quotation?"600":"500")},onClick:function(){x({details:!1,items:!1,quotation:!0,order:!1,invoice:!1})},children:"Quotation"}),Object(qe.jsx)(k.a,{style:{textTransform:"capitalize",fontSize:"20px",color:"".concat(b.order?"#54a3ff":"black"),fontWeight:"".concat(b.order?"600":"500")},onClick:function(){x({details:!1,quotation:!1,items:!1,order:!0,invoice:!1})},children:"Order Form"}),Object(qe.jsx)(k.a,{style:{textTransform:"capitalize",fontSize:"20px",color:"".concat(b.invoice?"#54a3ff":"black"),fontWeight:"".concat(b.invoice?"600":"500")},onClick:function(){x({details:!1,quotation:!1,items:!1,order:!1,invoice:!0})},children:"Invoice"})]})})}),Object(qe.jsxs)("div",{className:"w-full h-5/6 overflow-auto",children:[b.details?Object(qe.jsxs)("div",{className:"ml-20 m-4",children:[Object(qe.jsxs)("div",{children:[Object(qe.jsx)(pl,{title:"Title",detail:null===g||void 0===g?void 0:g.title}),Object(qe.jsx)(pl,{title:"No. of items",detail:null===g||void 0===g||null===(l=g.items)||void 0===l?void 0:l.length}),Object(qe.jsx)(pl,{title:"Description",detail:null===o||void 0===o?void 0:o.description}),Object(qe.jsx)(pl,{title:"Created At",detail:new Date(null===g||void 0===g?void 0:g.createdAt).toLocaleString("en-US",{day:"2-digit",month:"short",year:"numeric"})})]}),Object(qe.jsxs)("div",{className:"mt-6",children:[Object(qe.jsx)("div",{className:"flex place-items-end",children:Object(qe.jsxs)("div",{className:"flex flex-col w-1/2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Update stage"}),Object(qe.jsxs)("div",{className:"flex items-center w-full",children:[Object(qe.jsxs)("select",{className:"p-2 w-3/4 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",name:"",id:"",value:E.stage,onChange:function(e){return z({stage:e.target.value,error:""})},children:[Object(qe.jsx)("option",{value:"",selected:!0,style:{color:"lightgray"},children:"Select stage"}),Object(qe.jsx)("option",{value:"Preliminary",children:"Preliminary"}),Object(qe.jsx)("option",{value:"Qualified",children:"Qualified"}),Object(qe.jsx)("option",{value:"Converted",children:"Converted"}),Object(qe.jsx)("option",{value:"Quotation",children:"Quotation"}),Object(qe.jsx)("option",{value:"Negotiation",children:"Negotiation"}),Object(qe.jsx)("option",{value:"Order Form",children:"Order Form"}),Object(qe.jsx)("option",{value:"Dispatched",children:"Dispatched"}),Object(qe.jsx)("option",{value:"Invoice",children:"Invoice"})]}),Object(qe.jsx)(k.a,{onClick:function(){""===E.stage?z({stage:"",error:"*Required"}):"Dispatched"===E.stage?p(Dt({show:!0,func:I,text:"Are you sure you want to dispatch order?"})):"Invoice"===E.stage&&"Dispatched"!==(null===g||void 0===g?void 0:g.stage)?p(fe({message:"Order not dispatched yet!!!",error:!0})):Ne.patch("/update-stage/".concat(g._id,"/").concat(h._id),{stage:E.stage},{headers:{Authorization:"Bearer ".concat(m)}}).then((function(e){p(Wt(g._id)),z({stage:"",error:""})}))},style:{backgroundColor:"#54a3ff",color:"white",textTransform:"capitalize",marginBottom:"2px",marginLeft:"8px"},children:"Update Stage"})]}),E.error?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:E.error}):null]})}),Object(qe.jsx)("div",{className:"flex place-items-end",children:Object(qe.jsxs)("div",{className:"flex mt-3 flex-col w-1/2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Update status"}),Object(qe.jsxs)("div",{className:"flex items-center w-full",children:[Object(qe.jsxs)("select",{className:"p-2 w-3/4 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",name:"",id:"",value:w.status,onChange:function(e){return _({status:e.target.value,error:""})},children:[Object(qe.jsx)("option",{value:"",selected:!0,style:{color:"lightgray"},children:"Select status"}),Object(qe.jsx)("option",{value:"Active",children:"Active"}),Object(qe.jsx)("option",{value:"Completed",children:"Completed"}),Object(qe.jsx)("option",{value:"Cancelled",children:"Cancelled"})]}),Object(qe.jsx)(k.a,{onClick:function(){""===w.status?_({status:"",error:"*Required"}):Ne.patch("/update-status/".concat(g._id,"/").concat(h._id),{status:w.status},{headers:{Authorization:"Bearer ".concat(m)}}).then((function(e){p(Wt(g._id)),_({status:"",error:""})}))},style:{backgroundColor:"#54a3ff",color:"white",textTransform:"capitalize",marginBottom:"2px",marginLeft:"8px"},children:"Update Status"})]}),w.error?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:w.error}):null]})})]})]}):null,b.items?Object(qe.jsx)(Nl,{data:g,leadId:g._id}):null,b.quotation?Object(qe.jsx)("div",{className:"m-4",children:"Preliminary"===(null===g||void 0===g?void 0:g.stage)||"Qualified"===(null===g||void 0===g?void 0:g.stage)||"Converted"===(null===g||void 0===g?void 0:g.stage)?Object(qe.jsx)("div",{className:"w-full justify-center flex",children:Object(qe.jsx)(k.a,{onClick:function(){Ne.patch("/update-stage/".concat(g._id,"/").concat(h._id),{stage:"Quotation"},{headers:{Authorization:"Bearer ".concat(m)}}).then((function(e){p(Wt(g._id))}))},style:{backgroundColor:"#54a3ff",color:"white",textTransform:"capitalize",marginBottom:"10px"},children:"Create Quotation"})}):Object(qe.jsxs)("div",{children:[Object(qe.jsx)(gl.a,{pageStyle:q,trigger:function(){return Object(qe.jsx)(k.a,{style:{backgroundColor:"#54a3ff",color:"white",textTransform:"capitalize",marginBottom:"10px"},children:"Print PDF"})},content:function(){return D.current}}),Object(qe.jsx)(fl,{componentRef:D,lead:g}),Object(qe.jsx)("div",{children:Object(qe.jsxs)("table",{children:[Object(qe.jsx)("tr",{children:Object(qe.jsx)("th",{colSpan:"5",children:"User Information"})}),Object(qe.jsxs)("tr",{children:[Object(qe.jsxs)("td",{colSpan:"3",children:["Name: ",Object(qe.jsx)("span",{children:null===O||void 0===O?void 0:O.name})]}),Object(qe.jsxs)("td",{colSpan:"3",children:["Phone No: ",Object(qe.jsx)("span",{children:null===O||void 0===O?void 0:O.phone})]})]}),Object(qe.jsx)("tr",{children:Object(qe.jsxs)("td",{colSpan:"5",children:["Address:"," ",Object(qe.jsx)("span",{children:(null===O||void 0===O?void 0:O.street)+", "+(null===O||void 0===O?void 0:O.city)+", "+(null===O||void 0===O?void 0:O.state)+", "+(null===O||void 0===O?void 0:O.country)+", "+(null===O||void 0===O?void 0:O.zipcode)})]})}),Object(qe.jsx)("tr",{children:Object(qe.jsxs)("td",{colSpan:"5",children:["Email: ",Object(qe.jsx)("span",{children:null===O||void 0===O?void 0:O.email})]})}),Object(qe.jsx)("tr",{children:Object(qe.jsx)("th",{colSpan:"5",children:"Order Information"})}),Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("th",{children:"Item"}),Object(qe.jsx)("th",{children:"Quantity"}),Object(qe.jsx)("th",{children:"Price"}),Object(qe.jsx)("th",{children:"GST"}),Object(qe.jsx)("th",{children:"Amount"})]}),null===g||void 0===g||null===(c=g.items)||void 0===c?void 0:c.map((function(e){var t,l,n,c,r=null===(t=f.filter((function(t){var l;return t._id===(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l._id)}))[0])||void 0===t?void 0:t.gst,a=(null===e||void 0===e?void 0:e.quantity)*(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.sale_price)*(1+r/100);return R+=a,Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("td",{children:null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.item_name}),Object(qe.jsx)("td",{children:null===e||void 0===e?void 0:e.quantity}),Object(qe.jsxs)("td",{children:["\u20b9",(null===e||void 0===e?void 0:e.updatedSalePrice)>0?null===e||void 0===e?void 0:e.updatedSalePrice:null===e||void 0===e||null===(c=e.item)||void 0===c?void 0:c.sale_price]}),Object(qe.jsxs)("td",{children:[r,"%"]}),Object(qe.jsxs)("td",{children:["\u20b9",a]})]})})),Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("th",{colSpan:"4",children:"Total"}),Object(qe.jsxs)("td",{children:["\u20b9",R]})]})]})})]})}):null,b.order?Object(qe.jsx)("div",{className:"m-4",children:"Preliminary"!==(null===g||void 0===g?void 0:g.stage)&&"Qualified"!==(null===g||void 0===g?void 0:g.stage)&&"Converted"!==(null===g||void 0===g?void 0:g.stage)&&"Quotation"!==(null===g||void 0===g?void 0:g.stage)&&"Negotiation"!==(null===g||void 0===g?void 0:g.stage)?Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)(gl.a,{pageStyle:q,trigger:function(){return Object(qe.jsx)(k.a,{style:{backgroundColor:"#54a3ff",color:"white",textTransform:"capitalize",marginBottom:"10px"},children:"Print PDF"})},content:function(){return T.current}}),Object(qe.jsx)(vl,{componentRef:T,lead:g}),Object(qe.jsx)("table",{children:Object(qe.jsxs)("tbody",{children:[Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("th",{children:"Article No."}),Object(qe.jsx)("th",{children:"Colour"}),Object(qe.jsx)("th",{children:"Size"}),Object(qe.jsx)("th",{children:"Qty"}),Object(qe.jsx)("th",{children:"Unit Price"}),Object(qe.jsx)("th",{children:"Amount"})]}),null===g||void 0===g||null===(r=g.items)||void 0===r?void 0:r.map((function(e,t){var l,n,c=f.filter((function(t){var l;return t._id===(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l._id)}))[0],r=(null===e||void 0===e?void 0:e.quantity)*(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.sale_price)*(1+(null===c||void 0===c?void 0:c.gst)/100);return R+=r,Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("td",{children:null===c||void 0===c?void 0:c.article}),Object(qe.jsx)("td",{children:null===c||void 0===c?void 0:c.colour}),Object(qe.jsx)("td",{children:(null===c||void 0===c?void 0:c.length)+"*"+(null===c||void 0===c?void 0:c.width)+"*"+(null===c||void 0===c?void 0:c.height)}),Object(qe.jsx)("td",{children:null===e||void 0===e?void 0:e.quantity}),Object(qe.jsxs)("td",{children:["\u20b9",(null===e||void 0===e?void 0:e.updatedSalePrice)>0?null===e||void 0===e?void 0:e.updatedSalePrice:null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.sale_price]}),Object(qe.jsxs)("td",{children:["\u20b9",r]})]})})),Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("th",{colSpan:"5",children:Object(qe.jsx)("p",{className:"text-right",children:"Total"})}),Object(qe.jsxs)("td",{children:["\u20b9",R]})]})]})})]}):Object(qe.jsx)(qe.Fragment,{children:Object(qe.jsx)("div",{className:"w-full flex justify-center",children:Object(qe.jsx)(k.a,{onClick:function(){Ne.patch("/update-stage/".concat(g._id,"/").concat(h._id),{stage:"Order Form"},{headers:{Authorization:"Bearer ".concat(m)}}).then((function(e){p(Wt(g._id))}))},style:{backgroundColor:"#54a3ff",color:"white",textTransform:"capitalize",marginBottom:"10px"},children:"Generate order form"})})})}):null,b.invoice?Object(qe.jsx)("div",{className:"m-4",children:"Invoice"!==(null===g||void 0===g?void 0:g.stage)?Object(qe.jsx)("div",{className:"w-full justify-center flex",children:Object(qe.jsx)(k.a,{onClick:function(){"Dispatched"===(null===g||void 0===g?void 0:g.stage)?(Ne.patch("/update-stage/".concat(null===g||void 0===g?void 0:g._id,"/").concat(h._id),{stage:"Invoice"},{headers:{Authorization:"Bearer ".concat(m)}}).then((function(e){p(Wt(g._id))})),Ne.patch("/update-status/".concat(g._id,"/").concat(h._id),{status:"Completed"},{headers:{Authorization:"Bearer ".concat(m)}}).then((function(e){p(Wt(g._id))}))):p(Dt({text:"Order not dispatched yet. Dispatch and generate invoice",show:!0,func:function(){Ne.patch("/dispatch-order/".concat(g._id,"/").concat(h._id),{},{headers:{Authorization:"Bearer ".concat(m)}}).then((function(e){p(Wt(g._id)),Ne.patch("/update-stage/".concat(g._id,"/").concat(h._id),{stage:"Invoice"},{headers:{Authorization:"Bearer ".concat(m)}}).then((function(e){p(Wt(g._id))})),Ne.patch("/update-status/".concat(g._id,"/").concat(h._id),{status:"Completed"},{headers:{Authorization:"Bearer ".concat(m)}}).then((function(e){p(Wt(g._id))})),p(fe({message:"Order dispatched",error:!1})),p($t())})).catch((function(e){p(fe({message:"Error dispatching order",error:!0}))}))}}))},style:{backgroundColor:"#54a3ff",color:"white",textTransform:"capitalize",marginBottom:"10px"},children:"Create Invoice"})}):Object(qe.jsxs)("div",{children:[Object(qe.jsx)(wl,{componentRef:F,lead:g}),Object(qe.jsx)("div",{children:Object(qe.jsxs)("table",{children:[Object(qe.jsx)("tr",{children:Object(qe.jsx)("th",{colSpan:"5",children:"User Information"})}),Object(qe.jsxs)("tr",{children:[Object(qe.jsxs)("td",{colSpan:"3",children:["Name: ",Object(qe.jsx)("span",{children:null===O||void 0===O?void 0:O.name})]}),Object(qe.jsxs)("td",{colSpan:"3",children:["Phone No: ",Object(qe.jsx)("span",{children:null===O||void 0===O?void 0:O.phone})]})]}),Object(qe.jsx)("tr",{children:Object(qe.jsxs)("td",{colSpan:"5",children:["Address:"," ",Object(qe.jsx)("span",{children:(null===O||void 0===O?void 0:O.street)+", "+(null===O||void 0===O?void 0:O.city)+", "+(null===O||void 0===O?void 0:O.state)+", "+(null===O||void 0===O?void 0:O.country)+", "+(null===O||void 0===O?void 0:O.zipcode)})]})}),Object(qe.jsx)("tr",{children:Object(qe.jsxs)("td",{colSpan:"5",children:["Email: ",Object(qe.jsx)("span",{children:null===O||void 0===O?void 0:O.email})]})}),Object(qe.jsx)("tr",{children:Object(qe.jsx)("th",{colSpan:"5",children:"Order Information"})}),Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("th",{children:"Item"}),Object(qe.jsx)("th",{children:"Quantity"}),Object(qe.jsx)("th",{children:"Price"}),Object(qe.jsx)("th",{children:"GST"}),Object(qe.jsx)("th",{children:"Amount"})]}),null===g||void 0===g||null===(a=g.items)||void 0===a?void 0:a.map((function(e){var t,l,n,c,r=null===(t=f.filter((function(t){var l;return t._id===(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l._id)}))[0])||void 0===t?void 0:t.gst,a=(null===e||void 0===e?void 0:e.quantity)*(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.sale_price)*(1+r/100);return R+=a,Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("td",{children:null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.item_name}),Object(qe.jsx)("td",{children:null===e||void 0===e?void 0:e.quantity}),Object(qe.jsxs)("td",{children:["\u20b9",(null===e||void 0===e?void 0:e.updatedSalePrice)>0?null===e||void 0===e?void 0:e.updatedSalePrice:null===e||void 0===e||null===(c=e.item)||void 0===c?void 0:c.sale_price]}),Object(qe.jsxs)("td",{children:[r,"%"]}),Object(qe.jsxs)("td",{children:["\u20b9",a]})]})})),Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("th",{colSpan:"4",children:"Total"}),Object(qe.jsxs)("td",{children:["\u20b9",R]})]})]})})]})}):null]})]}),Object(qe.jsxs)("div",{className:"".concat("Active"===(null===g||void 0===g?void 0:g.status)?"bg-green-500":"Cancelled"===(null===g||void 0===g?void 0:g.status)?"bg-red-500":"bg-blue-500"," bg-gray-200 p-2 rounded-b-lg flex"),children:[Object(qe.jsxs)("p",{className:"text-lg font-semibold mr-6 ml-2 ",children:["Stage: ",Object(qe.jsx)("span",{className:"font-medium",children:null===g||void 0===g?void 0:g.stage})]}),Object(qe.jsxs)("p",{className:"text-lg font-semibold",children:["Status: ",Object(qe.jsx)("span",{className:"font-medium",children:null===g||void 0===g?void 0:g.status})]})]})]})})},Sl=l(648),Cl=l(647),kl=l(650),El=function(e){var t=e.fupFilter,l=e.fup,c=Object(M.b)(),r=Object(M.c)((function(e){return e.contact.update})),a=G.a.get("JWT"),i=JSON.parse(localStorage.getItem("user")),s=Object(n.useState)(""),o=Object(u.a)(s,2),d=o[0],j=o[1],b=function(e){e.preventDefault();var t=G.a.get("JWT"),n=JSON.parse(localStorage.getItem("user"));Ne.post("/add-remarks-in-followup/".concat(l._id,"/").concat(n._id),{remarks:d},{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){c(Te(r._id)),c(fe({message:"FollowUp Completed",error:!1}))})).catch((function(e){c(fe({message:"Error converting followup",error:!0}))}))};return Object(qe.jsxs)("div",{children:["Upcoming"===t?Object(qe.jsx)(qe.Fragment,{children:new Date(null===l||void 0===l?void 0:l.date).toLocaleDateString()>=(new Date).toLocaleDateString()&&!(null===l||void 0===l?void 0:l.isAttended)?Object(qe.jsxs)("div",{className:"bg-gray-100 w-full p-4 py-1 rounded-md flex justify-between items-center mb-2 cursor-pointer",children:[Object(qe.jsxs)("div",{className:"text-base",children:[Object(qe.jsxs)("p",{className:"border-b-2 py-1 pr-4",children:[Object(qe.jsx)("span",{className:"font-light mr-2",children:"Opening Remark:"}),null===l||void 0===l?void 0:l.text]}),Object(qe.jsx)("p",{children:new Date(null===l||void 0===l?void 0:l.date).toLocaleString("en-US",{timeZone:"UTC",day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),Object(qe.jsxs)("div",{className:"flex items-center",children:[Object(qe.jsx)("input",{type:"text",className:"px-2 py-1 ml-4 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",placeholder:"Enter closing remark",value:d,onChange:function(e){return j(e.target.value)}}),Object(qe.jsx)(v.a,{onClick:b,style:{padding:"8px",marginLeft:"10px"},children:Object(qe.jsx)(We.a,{})}),Object(qe.jsx)(v.a,{onClick:function(){Ne.delete("/delete-followup/".concat(null===l||void 0===l?void 0:l._id,"/").concat(i._id),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){c(Te(r._id)),c(fe({message:"FollowUp deleted",error:!1}))})).catch((function(e){c(fe({message:"Error deleting followup",error:!0}))}))},style:{padding:"8px"},children:Object(qe.jsx)(Me.a,{})})]})]},null===l||void 0===l?void 0:l._id):null}):null,"Today"===t?Object(qe.jsx)(qe.Fragment,{children:new Date(null===l||void 0===l?void 0:l.date).toLocaleDateString()!==(new Date).toLocaleDateString()||(null===l||void 0===l?void 0:l.isAttended)?null:Object(qe.jsxs)("div",{className:"bg-gray-100 w-full p-4 py-1 rounded-md flex justify-between items-center mb-2 cursor-pointer",children:[Object(qe.jsxs)("div",{className:"text-base",children:[Object(qe.jsxs)("p",{className:"border-b-2 py-1 pr-4",children:[Object(qe.jsx)("span",{className:"font-light mr-2",children:"Opening Remark:"}),null===l||void 0===l?void 0:l.text]}),Object(qe.jsx)("p",{children:new Date(null===l||void 0===l?void 0:l.date).toLocaleString("en-US",{timeZone:"UTC",day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),Object(qe.jsxs)("div",{className:"flex items-center",children:[Object(qe.jsx)("input",{type:"text",className:"px-2 py-1 ml-4 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",placeholder:"Enter closing remark",value:d,onChange:function(e){return j(e.target.value)}}),Object(qe.jsx)(v.a,{onClick:b,style:{padding:"8px",marginLeft:"10px"},children:Object(qe.jsx)(We.a,{})}),Object(qe.jsx)(v.a,{onClick:function(){Ne.delete("/delete-followup/".concat(null===l||void 0===l?void 0:l._id,"/").concat(i._id),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){c(Te(r._id)),c(fe({message:"FollowUp deleted",error:!1}))})).catch((function(e){c(fe({message:"Error deleting followup",error:!0}))}))},style:{padding:"8px"},children:Object(qe.jsx)(Me.a,{})})]})]},null===l||void 0===l?void 0:l._id)}):null,"Missed"===t?Object(qe.jsx)(qe.Fragment,{children:new Date(null===l||void 0===l?void 0:l.date).toLocaleDateString()<(new Date).toLocaleDateString()?Object(qe.jsxs)("div",{className:"bg-gray-100 w-full p-4 py-1 rounded-md flex justify-between items-center mb-2 cursor-pointer",children:[Object(qe.jsx)("div",{className:"text-base",children:Object(qe.jsxs)("p",{children:[Object(qe.jsx)("span",{className:"font-light mr-2",children:"Opening Remark:"}),null===l||void 0===l?void 0:l.text]})}),Object(qe.jsxs)("div",{className:"flex items-center",children:[Object(qe.jsx)("p",{children:new Date(null===l||void 0===l?void 0:l.date).toLocaleString("en-US",{timeZone:"UTC",day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}),Object(qe.jsx)(v.a,{onClick:function(){Ne.delete("/delete-followup/".concat(null===l||void 0===l?void 0:l._id,"/").concat(i._id),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){c(Te(r._id)),c(fe({message:"FollowUp deleted",error:!1}))})).catch((function(e){c(fe({message:"Error deleting followup",error:!0}))}))},style:{padding:"8px"},children:Object(qe.jsx)(Me.a,{})})]})]},null===l||void 0===l?void 0:l._id):null}):null,"Completed"===t?Object(qe.jsx)(qe.Fragment,{children:(null===l||void 0===l?void 0:l.isAttended)?Object(qe.jsxs)("div",{className:"bg-gray-100 w-full p-4 py-1 rounded-md flex justify-between items-center mb-2 cursor-pointer",children:[Object(qe.jsxs)("div",{className:"text-base",children:[Object(qe.jsxs)("p",{children:[Object(qe.jsx)("span",{className:"font-light mr-2",children:"Opening Remark:"}),null===l||void 0===l?void 0:l.text]}),Object(qe.jsxs)("p",{children:[Object(qe.jsx)("span",{className:"font-light mr-2",children:"Closing Remark:"}),null===l||void 0===l?void 0:l.remarks]})]}),Object(qe.jsxs)("div",{className:"flex items-center",children:[Object(qe.jsx)("p",{children:new Date(null===l||void 0===l?void 0:l.date).toLocaleString("en-US",{timeZone:"UTC",day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}),Object(qe.jsx)(v.a,{onClick:function(){Ne.delete("/delete-followup/".concat(null===l||void 0===l?void 0:l._id,"/").concat(i._id),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){c(Te(r._id)),c(fe({message:"FollowUp deleted",error:!1}))})).catch((function(e){c(fe({message:"Error deleting followup",error:!0}))}))},style:{padding:"8px"},children:Object(qe.jsx)(Me.a,{})})]})]},null===l||void 0===l?void 0:l._id):null}):null]})},zl=l(331),Al=l.n(zl),Rl=function(e){var t=e.title,l=e.detail;return Object(qe.jsxs)("div",{className:"flex w-full",children:[Object(qe.jsxs)("p",{className:"flex text-lg font-semibold mr-2",children:[t,":"]}),Object(qe.jsx)("p",{className:"text-lg",children:l})]})},Dl=function(){var e,t,l,c,r,a=Object(s.g)(),i=Object(M.c)((function(e){return e.contact.update})),o=Object(s.h)().id,d=Object(M.b)(),j=Object(n.useState)(!1),b=Object(u.a)(j,2),x=b[0],m=b[1],h=Object(n.useState)("All"),p=Object(u.a)(h,2),f=p[0],O=p[1],g=Object(n.useState)({lead:!0,fup:!1}),y=Object(u.a)(g,2),N=y[0],w=y[1],_=Object(n.useState)("Upcoming"),S=Object(u.a)(_,2),C=S[0],E=S[1],z=[{icon:Object(qe.jsx)(Cl.a,{}),name:"Lead",task:function(){d(Se({show:!0,phone:i.phone,fromContact:!0}))}},{icon:Object(qe.jsx)(Cl.a,{}),name:"FollowUp",task:function(){d(_e({show:!0,phone:i.phone,fromContact:!0}))}}];Object(n.useEffect)((function(){d(Te(o))}),[d,o]);Object(n.useRef)();var A=0,R=0,D=0;return null===i||void 0===i||null===(e=i.allLeads)||void 0===e||e.forEach((function(e){"Preliminary"!==e.stage&&"Qualified"!==e.stage&&"Converted"!==e.stage&&A++,"Order Form"!==e.stage&&"Dispatched"!==e.stage&&"Invoice"!==e.stage||D++,"Invoice"===e.stage&&R++})),Object(qe.jsxs)("div",{className:"flex w-full",children:[Object(qe.jsx)(_l,{setShow:m,show:x,data:i}),Object(qe.jsx)(Sl.a,{ariaLabel:"SpeedDial basic example",sx:{position:"absolute",bottom:40,right:40},icon:Object(qe.jsx)(Cl.a,{}),children:z.map((function(e){return Object(qe.jsx)(kl.a,{icon:e.icon,tooltipTitle:e.name,tooltipOpen:!0,onClick:e.task},e.name)}))}),Object(qe.jsxs)("div",{className:"w-100",children:[Object(qe.jsxs)("div",{className:"m-10 mr-5 p-7 py-10 bg-white rounded-lg mb-4",children:[Object(qe.jsxs)("div",{className:"w-full mb-6 flex justify-between items-center",children:[Object(qe.jsxs)("h1",{className:"text-3xl font-semibold",children:[Object(qe.jsx)("span",{children:Object(qe.jsx)(Al.a,{fontSize:"large"})})," ","Details"]}),Object(qe.jsxs)("div",{className:"transform scale-110",children:[Object(qe.jsx)(v.a,{onClick:function(){d(we(i)),a.push("/updatecontact/".concat(i._id))},children:Object(qe.jsx)(zt.a,{})}),Object(qe.jsx)(v.a,{onClick:function(){d(Dt({show:!0,text:"Are you sure you want to delete?\n All leads will be deleted.",func:function(){d(De(i._id)),a.push("/contacts")}}))},children:Object(qe.jsx)(Me.a,{})})]})]}),Object(qe.jsx)("div",{className:"flex items-center w-full justify-between"}),Object(qe.jsxs)("div",{children:[Object(qe.jsx)(Rl,{title:"Name",detail:i.name}),Object(qe.jsx)(Rl,{title:"Email",detail:i.email}),Object(qe.jsx)(Rl,{title:"Phone",detail:i.phone}),Object(qe.jsx)(Rl,{title:"Whatsapp",detail:i.whatsapp_no}),Object(qe.jsx)(Rl,{title:"Title",detail:i.title}),(null===i||void 0===i?void 0:i.organization)?Object(qe.jsx)(Rl,{title:"Organization",detail:null===i||void 0===i||null===(t=i.organization)||void 0===t?void 0:t.name}):"",Object(qe.jsx)(Rl,{title:"Address",detail:(null===i||void 0===i?void 0:i.street)+", "+(null===i||void 0===i?void 0:i.city)+", "+(null===i||void 0===i?void 0:i.state)+", "+(null===i||void 0===i?void 0:i.country)+", "+(null===i||void 0===i?void 0:i.zipcode)}),Object(qe.jsx)(Rl,{title:"Department",detail:null===i||void 0===i?void 0:i.department}),Object(qe.jsx)(Rl,{title:"Created At",detail:new Date(null===i||void 0===i?void 0:i.createdAt).toLocaleString("en-US",{year:"numeric",day:"numeric",month:"numeric"})}),Object(qe.jsx)(Rl,{title:"Description",detail:null===i||void 0===i?void 0:i.description})]})]}),Object(qe.jsxs)("div",{className:"m-10 mr-5 p-7 bg-white rounded-lg mt-0",children:[Object(qe.jsxs)("div",{className:"flex justify-between text-xl border-b-2 pb-1 mb-1",children:[Object(qe.jsx)("p",{children:"Quotation"}),Object(qe.jsx)("p",{children:A})]}),Object(qe.jsxs)("div",{className:"flex justify-between text-xl border-b-2 pb-1 mb-1",children:[Object(qe.jsx)("p",{children:"Order Form"}),Object(qe.jsx)("p",{children:D})]}),Object(qe.jsxs)("div",{className:"flex justify-between text-xl ",children:[Object(qe.jsx)("p",{children:"Invoices"}),Object(qe.jsx)("p",{children:R})]})]})]}),Object(qe.jsxs)("div",{className:"m-10 ml-2 py-5 px-10 flex-1 rounded-lg bg-white",children:[Object(qe.jsxs)("div",{className:"flex justify-between items-center",children:[Object(qe.jsxs)("div",{className:"border-b-2 w-max border-blue-300 flex",children:[Object(qe.jsx)(k.a,{style:{width:"max-content",textTransform:"capitalize",fontSize:"20px",color:"".concat(N.lead?"#54a3ff":"black"),fontWeight:"".concat(N.lead?"600":"500")},onClick:function(){w({lead:!0,fup:!1})},children:"Leads"}),Object(qe.jsx)(k.a,{style:{width:"max-content",textTransform:"capitalize",fontSize:"20px",color:"".concat(N.fup?"#54a3ff":"black"),fontWeight:"".concat(N.fup?"600":"500")},onClick:function(){w({lead:!1,fup:!0})},children:"Follow Ups"})]}),N.lead?Object(qe.jsx)("div",{className:"w-full flex items-center justify-end",children:Object(qe.jsxs)("select",{className:"p-2 py-1 w-1/4 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",name:"",id:"",value:f,onChange:function(e){return O(e.target.value)},children:[Object(qe.jsx)("option",{value:"All",selected:!0,children:"All"}),Object(qe.jsx)("option",{value:"Active",children:"Active"}),Object(qe.jsx)("option",{value:"Completed",children:"Completed"}),Object(qe.jsx)("option",{value:"Cancelled",children:"Cancelled"}),Object(qe.jsx)("option",{value:"Preliminary",children:"Preliminary"}),Object(qe.jsx)("option",{value:"Qualified",children:"Qualified"}),Object(qe.jsx)("option",{value:"Converted",children:"Converted"}),Object(qe.jsx)("option",{value:"Quotation",children:"Quotation"}),Object(qe.jsx)("option",{value:"Negotiation",children:"Negotiation"}),Object(qe.jsx)("option",{value:"Order Form",children:"Order Form"}),Object(qe.jsx)("option",{value:"Dispatched",children:"Dispatched"}),Object(qe.jsx)("option",{value:"Invoice",children:"Invoice"})]})}):null,N.fup?Object(qe.jsx)("div",{className:"w-full flex items-center justify-end",children:Object(qe.jsxs)("select",{className:"p-2 py-1 w-1/4 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",name:"",id:"",value:C,onChange:function(e){return E(e.target.value)},children:[Object(qe.jsx)("option",{value:"Upcoming",selected:!0,children:"Upcoming"}),Object(qe.jsx)("option",{value:"Today",children:"Today"}),Object(qe.jsx)("option",{value:"Completed",children:"Completed"}),Object(qe.jsx)("option",{value:"Missed",children:"Missed"})]})}):null]}),N.lead?Object(qe.jsx)("div",{className:"mt-4",children:Object(qe.jsx)("div",{className:"overflow-auto max-h-lead",children:0===(null===i||void 0===i||null===(l=i.allLeads)||void 0===l?void 0:l.length)?Object(qe.jsx)("p",{className:"text-2xl mt-4 text-gray-600 ml-2",children:"No leads available"}):Object(qe.jsxs)(qe.Fragment,{children:[" ",null===i||void 0===i||null===(c=i.allLeads)||void 0===c?void 0:c.map((function(e){return Object(qe.jsxs)(qe.Fragment,{children:[(null===e||void 0===e?void 0:e.stage)===f?Object(qe.jsx)(hl,{setShow:m,lead:e,id:i._id}):null,(null===e||void 0===e?void 0:e.status)===f?Object(qe.jsx)(hl,{setShow:m,lead:e,id:i._id}):null,"All"===f?Object(qe.jsx)(hl,{setShow:m,lead:e,id:i._id}):null]})}))]})})}):null,N.fup?Object(qe.jsx)("div",{className:"mt-4",children:Object(qe.jsx)("div",{className:"overflow-auto max-h-lead",children:null===(r=i.allFollowups)||void 0===r?void 0:r.map((function(e){return Object(qe.jsx)(qe.Fragment,{children:Object(qe.jsx)(El,{fupFilter:C,fup:e})})}))})}):null]})]})},Tl=function(){var e=Object(M.b)(),t=Object(n.useRef)(),l=Object(s.g)(),c=Object(Qt.a)({initialValues:{gst:"",type:"",item_name:"",sku:"",article:"",length:"",width:"",height:"",brand:"",manufacturer:"",hsn_code:"",sale_price:"",purchase_price:"",mpn_code:"",isbn_code:"",description:"",colour:"",image:null},validate:function(e){var t={};return e.type||(t.type="*Required"),e.item_name||(t.item_name="*Required"),e.sku||(t.sku="*Required"),e.article||(t.article="*Required"),e.item||(t.item="*Required"),e.length||(t.length="*Required"),e.width||(t.width="*Required"),e.height||(t.height="*Required"),e.brand||(t.brand="*Required"),e.manufacturer||(t.manufacturer="*Required"),e.hsn_code||(t.hsn_code="*Required"),e.sale_price||(t.sale_price="*Required"),e.purchase_price||(t.purchase_price="*Required"),e.mpn_code||(t.mpn_code="*Required"),e.isbn_code||(t.isbn_code="*Required"),e.gst||(t.gst="*Required"),e.description||(t.description="*Required"),e.colour||(t.colour="*Required"),null===e.image&&(t.image="*Required"),t}}),r=c.getFieldProps,a=c.errors,i=c.values,d=c.setFieldValue,u=c.resetForm,j=function(n){if(n.preventDefault(),0===Object.keys(a).length){var c=new FormData,r=(new Date).toISOString().slice(0,10);c.append("type",i.type),c.append("item_name",i.item_name),c.append("sku",i.sku),c.append("article",i.article),c.append("length",i.length),c.append("width",i.width),c.append("height",i.height),c.append("brand",i.brand),c.append("manufacturer",i.manufacturer),c.append("hsn_code",i.hsn_code),c.append("sale_price",i.sale_price),c.append("purchase_price",i.purchase_price),c.append("mpn_code",i.mpn_code),c.append("isbn_code",i.isbn_code),c.append("image",i.image),c.append("gst",i.gst),c.append("colour",i.colour),c.append("date",r),e(function(e,t,l){return function(n){var c=G.a.get("JWT"),r=JSON.parse(localStorage.getItem("user"));Ne.post("/add-inventory/".concat(r._id),e,{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){n($t()),t(),l.push("/inventory"),n(fe({message:"Inventory created successfully",error:!1}))})).catch((function(e){n(fe({message:"Error creating inventory",error:!0})),t()}))}}(c,u,l)),t.current.value=""}else e(fe({message:"Fill fields properly",error:!0}))};return Object(qe.jsxs)("form",{className:"mt-10 mx-4 flex flex-col items-center",children:[Object(qe.jsx)("div",{className:"bg-white flex justify-between items-center p-4 mb-4 w-full rounded-lg",children:Object(qe.jsx)("h2",{className:"text-xl font-bold m-0",children:"Create Inventory"})}),Object(qe.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(qe.jsxs)("div",{className:"bg-white p-4 flex-1 flex flex-col rounded-l-lg",children:[Object(qe.jsx)("lable",{className:" px-2 text-gray-2 mt-4 text-md font-semibold  ",children:"Type:"}),Object(qe.jsxs)("div",{className:"flex",children:[Object(qe.jsxs)("div",{className:"px-2 flex items-center ",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Goods"}),Object(qe.jsx)("input",{name:"type",className:"ml-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"radio",checked:"Goods"===i.type,onChange:function(){return d("type","Goods")}})]}),Object(qe.jsxs)("div",{className:"px-2 flex items-center",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Service"}),Object(qe.jsx)("input",{name:"type",className:"ml-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"radio",checked:"Service"===i.type,onChange:function(){return d("type","Service")}})]})]}),a.type?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.type}):null,Object(qe.jsxs)("div",{className:"px-2 mt-4 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Item Name"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter name"},r("item_name"))),a.item_name?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.item_name}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"SKU"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter sku"},r("sku"))),a.sku?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.sku}):null]}),Object(qe.jsxs)("div",{className:"px-2 flex mt-3 flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Article"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter article"},r("article"))),a.article?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.article}):null]}),Object(qe.jsxs)("div",{className:"flex mt-3 flex-wrap w-full",children:[Object(qe.jsxs)("div",{className:"flex-col flex flex-1 px-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Length"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter length"},r("length"))),a.length?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.length}):null]}),Object(qe.jsxs)("div",{className:"flex-col flex flex-1 px-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Width"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter width"},r("width"))),a.width?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.width}):null]}),Object(qe.jsxs)("div",{className:"flex-col flex flex-1 px-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Height"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter height"},r("height"))),a.height?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.height}):null]})]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Image"}),Object(qe.jsx)("input",{className:"p-2 w-full border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"file",accept:"image/png, image/jpeg",ref:t,onChange:function(e){return d("image",e.target.files[0])}}),a.image?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.image}):null]}),Object(qe.jsxs)("div",{className:"px-2 pt-1 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"GST"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter gst"},r("gst"))),a.gst?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.gst}):null]}),Object(qe.jsxs)("div",{className:"px-2 pt-1 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Colour"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"Text",placeholder:"Enter gst"},r("colour"))),a.colour?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.colour}):null]})]}),Object(qe.jsxs)("div",{className:"bg-white p-4 flex-1 flex flex-col rounded-r-lg",children:[Object(qe.jsxs)("div",{className:"px-2 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Brand"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter brand name"},r("brand"))),a.brand?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.brand}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Manufacturer"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter manufaturer"},r("manufacturer"))),a.manufacturer?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.manufacturer}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"HSN Code"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter HSN code"},r("hsn_code"))),a.hsn_code?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.hsn_code}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Sales Price"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter sales price"},r("sale_price"))),a.sale_price?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.sale_price}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Purchase Price"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter purchase price"},r("purchase_price"))),a.purchase_price?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.purchase_price}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"MPN"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter MPN"},r("mpn_code"))),a.mpn_code?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.mpn_code}):null]}),Object(qe.jsxs)("div",{className:"px-2 flex mt-3 flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"ISBN"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter ISBN"},r("isbn_code"))),a.isbn_code?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.isbn_code}):null]})]}),Object(qe.jsxs)("div",{className:"w-full mt-3 mb-3 flex flex-col bg-white p-4 rounded-lg",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Description"}),Object(qe.jsx)("textarea",Object(o.a)({className:" p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter description"},r("description"))),a.description?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:a.description}):null]})]}),Object(qe.jsx)("button",{onClick:function(e){return j(e)},className:"bg-green-600 mt-3 hover:bg-green-700 px-5 py-2 text-lg rounded-md m-4 text-white",children:"Save Inventory"})]})},Fl=function(){var e=Object(M.b)(),t=Object(n.useRef)(),l=Object(M.c)((function(e){return e.inventory.update})),c=Object(s.g)(),r=Object(Qt.a)({initialValues:Object.assign(l,{image:null}),validate:function(e){var t={};return e.type||(t.type="*Required"),e.item_name||(t.item_name="*Required"),e.sku||(t.sku="*Required"),e.article||(t.article="*Required"),e.item||(t.item="*Required"),e.length||(t.length="*Required"),e.width||(t.width="*Required"),e.height||(t.height="*Required"),e.brand||(t.brand="*Required"),e.manufacturer||(t.manufacturer="*Required"),e.hsn_code||(t.hsn_code="*Required"),e.sale_price||(t.sale_price="*Required"),e.purchase_price||(t.purchase_price="*Required"),e.mpn_code||(t.mpn_code="*Required"),e.isbn_code||(t.isbn_code="*Required"),e.gst||(t.gst="*Required"),e.description||(t.description="*Required"),e.colour||(t.colour="*Required"),t}}),a=r.getFieldProps,i=r.errors,d=r.values,u=(r.handleChange,r.setFieldValue),j=r.resetForm,b=function(n){if(n.preventDefault(),0===Object.keys(i).length){var r=(new Date).toISOString().slice(0,10),a={type:d.type,item_name:d.item_name,sku:d.sku,article:d.article,length:d.length,width:d.width,height:d.height,brand:d.brand,manufacturer:d.manufacturer,hsn_code:d.hsn_code,mpn_code:d.mpn_code,isbn_code:d.isbn_code,description:d.description,colour:d.colour,gst:d.gst,date:r};e(function(e,t,l,n){return function(c){console.log(t);var r=G.a.get("JWT"),a=JSON.parse(localStorage.getItem("user"));Ne.patch("/inventory/".concat(e,"/").concat(a._id),t,{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){c($t()),l(),n.push("/inventory"),c(fe({message:"Inventory updated successfully",error:!1}))})).catch((function(e){c(fe({message:"Error updating inventory",error:!0})),l()}))}}(l._id,a,j,c)),t.current.value=""}else e(fe({message:"Fill fields properly",error:!0}))};return Object(qe.jsxs)("form",{className:"mt-10 mx-4 flex flex-col items-center",children:[Object(qe.jsx)("div",{className:"bg-white flex justify-between items-center p-4 mb-4 w-full rounded-lg",children:Object(qe.jsx)("h2",{className:"text-xl font-bold m-0",children:"Update Inventory"})}),Object(qe.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(qe.jsxs)("div",{className:"bg-white px-4 pt-4  pb-2 flex-1 flex flex-col rounded-l-lg",children:[Object(qe.jsx)("lable",{className:" px-2 text-gray-2 mt-4 text-md font-semibold ",children:"Type:"}),Object(qe.jsxs)("div",{className:"flex w-full",children:[Object(qe.jsxs)("div",{className:"px-2 flex items-center ",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Goods"}),Object(qe.jsx)("input",{name:"type",className:"ml-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"radio",checked:"Goods"===d.type,onChange:function(){return u("type","Goods")}})]}),Object(qe.jsxs)("div",{className:"px-2 flex items-center",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Service"}),Object(qe.jsx)("input",{name:"type",className:"ml-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"radio",checked:"Service"===d.type,onChange:function(){return u("type","Service")}})]})]}),i.type?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:i.type}):null,Object(qe.jsxs)("div",{className:"px-2 mt-4 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Item Name"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter name"},a("item_name"))),i.item_name?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:i.item_name}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"SKU"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter sku"},a("sku"))),i.sku?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:i.sku}):null]}),Object(qe.jsxs)("div",{className:"px-2 flex mt-3 flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Article"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter article"},a("article"))),i.article?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:i.article}):null]}),Object(qe.jsxs)("div",{className:"flex mt-3 flex-wrap w-full",children:[Object(qe.jsxs)("div",{className:"flex-col flex flex-1 px-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Length"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter length"},a("length"))),i.length?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:i.length}):null]}),Object(qe.jsxs)("div",{className:"flex-col flex flex-1 px-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Width"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter width"},a("width"))),i.width?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:i.width}):null]}),Object(qe.jsxs)("div",{className:"flex-col flex flex-1 px-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Height"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter height"},a("height"))),i.height?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:i.height}):null]})]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Image"}),Object(qe.jsx)("input",{className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"file",accept:"image/png, image/jpeg",ref:t,onChange:function(e){return u("image",e.target.files[0])}}),i.image?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:i.image}):null]}),Object(qe.jsxs)("div",{className:"px-2 pt-1 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"GST"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter gst"},a("gst"))),i.gst?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:i.gst}):null]}),Object(qe.jsxs)("div",{className:"px-2 pt-1 mb-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Colour"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"Text",placeholder:"Enter gst"},a("colour"))),i.colour?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:i.colour}):null]})]}),Object(qe.jsxs)("div",{className:"bg-white p-4 flex-1 flex flex-col rounded-r-lg",children:[Object(qe.jsxs)("div",{className:"px-2 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Brand"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter brand name"},a("brand"))),i.brand?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:i.brand}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Manufacturer"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter manufaturer"},a("manufacturer"))),i.manufacturer?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:i.manufacturer}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"HSN Code"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter HSN code"},a("hsn_code"))),i.hsn_code?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:i.hsn_code}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Sales Price"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter sales price"},a("sale_price"))),i.sale_price?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:i.sale_price}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Purchase Price"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter purchase price"},a("purchase_price"))),i.purchase_price?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:i.purchase_price}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"MPN"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter MPN"},a("mpn_code"))),i.mpn_code?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:i.mpn_code}):null]}),Object(qe.jsxs)("div",{className:"px-2 flex mt-3 flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"ISBN"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter ISBN"},a("isbn_code"))),i.isbn_code?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:i.isbn_code}):null]})]}),Object(qe.jsxs)("div",{className:"w-full mt-3 mb-3 flex flex-col bg-white p-4 rounded-lg",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Description"}),Object(qe.jsx)("textarea",Object(o.a)({className:" p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter description"},a("description"))),i.description?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:i.description}):null]})]}),Object(qe.jsx)("button",{onClick:function(e){return b(e)},className:"bg-green-600 mt-3 hover:bg-green-700 px-5 py-2 text-lg rounded-md m-4 text-white",children:"Update Inventory"})]})},ql=function(){var e=Object(M.c)((function(e){return e.inventory.update})),t=Object(M.b)(),l=Object(s.g)(),c=Object(s.h)().id;return Object(n.useEffect)((function(){t(function(e){return function(t){Ne.get("/inventory/".concat(e)).then((function(e){t(Kt(e.data))})).catch()}}(c))}),[t,c]),Object(qe.jsxs)("div",{className:"flex w-full",children:[Object(qe.jsx)("div",{className:" m-10 mr-2 w-1/4 py-10 px-20 bg-white rounded-lg"}),Object(qe.jsxs)("div",{className:" m-10 py-10 px-20 bg-white flex-1 rounded-lg",children:[Object(qe.jsxs)("div",{className:"flex mb-6 items-center w-full justify-between",children:[Object(qe.jsxs)("h1",{className:"text-3xl font-semibold ",children:[" ",Object(qe.jsx)("span",{children:Object(qe.jsx)(W.a,{fontSize:"large"})})," ","Inventory Details"]}),Object(qe.jsxs)("div",{className:"transform scale-125",children:[Object(qe.jsx)(v.a,{onClick:function(){t(Kt(e)),l.push("/updateinventory/".concat(e._id))},children:Object(qe.jsx)(zt.a,{})}),Object(qe.jsx)(v.a,{onClick:function(){t(Dt({show:!0,text:"Are you sure you want to delete?",func:function(){t(Yt(e._id)),l.push("/inventory")}}))},children:Object(qe.jsx)(Me.a,{})})]})]}),Object(qe.jsxs)("div",{className:"flex",children:[Object(qe.jsxs)("div",{className:"w-1/2",children:[Object(qe.jsx)(pl,{title:"Type",detail:e.type}),Object(qe.jsx)(pl,{title:"Item Name",detail:e.item_name}),Object(qe.jsx)(pl,{title:"SKU",detail:e.sku}),Object(qe.jsx)(pl,{title:"Article",detail:e.article}),Object(qe.jsx)(pl,{title:"Dimension",detail:"".concat(e.length,"*").concat(e.width,"*").concat(e.height)}),Object(qe.jsx)(pl,{title:"Colour",detail:e.colour}),Object(qe.jsx)(pl,{title:"Brand",detail:e.brand}),Object(qe.jsx)(pl,{title:"Manufacturer",detail:e.manufacturer})]}),Object(qe.jsxs)("div",{className:"w-1/2",children:[Object(qe.jsx)(pl,{title:"Sales Price",detail:e.sale_price}),Object(qe.jsx)(pl,{title:"GST",detail:e.gst+"%"}),Object(qe.jsx)(pl,{title:"Purchase Price",detail:e.purchase_price}),Object(qe.jsx)(pl,{title:"MPN Code",detail:e.mpn_code}),Object(qe.jsx)(pl,{title:"ISBN Code",detail:e.isbn_code}),Object(qe.jsx)(pl,{title:"HSN Code",detail:e.hsn_code}),Object(qe.jsx)(pl,{title:"Description",detail:e.description}),Object(qe.jsx)(pl,{title:"Date",detail:new Date(e.date).toDateString()})]})]})]})]})},Il=function(e){return{type:Z,payload:e}},Pl=function(){var e=Object(M.b)(),t=Object(s.g)(),l=Object(Qt.a)({initialValues:{email:"",password:""},validate:function(e){var t={};return e.password||(t.password="*Required"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="*Required",t},onSubmit:function(){var l=Object(bl.a)(jl.a.mark((function l(n,c){var r;return jl.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:r=c.resetForm,Ne.post("/login",n).then((function(l){e(Il(l.data.admin)),G.a.set("JWT",l.data.token),localStorage.setItem("user",JSON.stringify(l.data.admin)),t.push("/"),r(),e(fe({message:"Logged in successfully",error:!1}))})).catch((function(t){r(),e(fe({message:"Error logging in",error:!0}))}));case 2:case"end":return l.stop()}}),l)})));return function(e,t){return l.apply(this,arguments)}}()}),n=l.getFieldProps,c=l.handleSubmit,r=l.errors;return Object(qe.jsx)("div",{className:"h-screen w-screen flex justify-center items-center",children:Object(qe.jsxs)("form",{onSubmit:c,className:"bg-white mx-4 w-full sm:w-1/2 lg:w-1/4 p-6 flex flex-col justify-center items-center ",children:[Object(qe.jsx)("h2",{className:"text-4xl pb-4",children:"Login"}),Object(qe.jsxs)("div",{className:"px-2 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Enter email"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2  border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"email",placeholder:"Enter email"},n("email"))),r.email?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.email}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Enter password"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"password",placeholder:"Enter password"},n("password"))),r.password?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.password}):null]}),Object(qe.jsx)("button",{type:"submit",className:"bg-green-600 mt-3 hover:bg-green-700 px-5 py-2 text-lg rounded-md my-2 mr-4 text-white",children:"Login"})]})})},Ll=l(196),Bl=(l(542),function(e){var t=e.func,l=e.show,n=e.text,c=Object(M.b)();return Object(qe.jsx)("div",{className:"".concat(l?"block":"hidden","  fixed top-1/2 right-1/2 transform translate-x-1/2 z-50 -translate-y-1/2 flex justify-center items-center w-full h-full bg-black bg-opacity-20"),children:Object(qe.jsxs)("div",{className:"bg-white rounded-md shadow-2xl",children:[Object(qe.jsx)("div",{className:"w-full flex justify-end",children:Object(qe.jsx)(v.a,{onClick:function(){c(Dt({show:!1,func:function(){}}))},children:Object(qe.jsx)(el.a,{})})}),Object(qe.jsxs)("div",{className:"px-6 pb-6",children:[Object(qe.jsx)("p",{className:"text-xl pb-10 whitespace-pre-line",children:n}),Object(qe.jsx)(k.a,{onClick:function(){t(),c(Dt({show:!1,func:function(){}}))},style:{backgroundColor:"rgba(16, 185, 129, var(--tw-bg-opacity))",marginRight:"8px"},children:"Confirm"}),Object(qe.jsx)(k.a,{onClick:function(){c(Dt({show:!1,func:function(){}}))},style:{backgroundColor:"rgba(239, 68, 68, var(--tw-bg-opacity))"},children:"Cancel"})]})]})})}),Ul=function(e){var t=e.phone,l=e.show,n=e.fromContact,c=Object(M.c)((function(e){return e.contact.contact})),r=Object(M.c)((function(e){return e.contact.update})),a=Object(M.b)(),i=G.a.get("JWT"),s=JSON.parse(localStorage.getItem("user")),d=Object(Qt.a)({initialValues:{phone:t,date:"",text:""},validate:function(e){var t={};return e.phone||(t.phone="*Required"),e.date||(t.date="*Required"),e.text||(t.text="*Required"),t},onSubmit:{}}),u=d.getFieldProps,j=d.errors,b=d.values,x=d.setFieldValue,m=d.resetForm,h=(d.setValues,[]);return c.forEach((function(e){h.push({value:e.phone,label:e.name+"("+e.phone+")"+("NA"!==e.company?"(".concat(e.company,")"):"")})})),Object(qe.jsx)("div",{className:"".concat(l?"block":"hidden","  shadow-2xl fixed top-1/2 right-1/2 transform flex justify-center items-center w-full h-full bg-black bg-opacity-20 translate-x-1/2 z-50 -translate-y-1/2"),children:Object(qe.jsxs)("div",{className:"bg-white w-1/4 pb-2 rounded-t-lg items-center",children:[Object(qe.jsx)("div",{className:"w-full flex justify-end",children:Object(qe.jsx)(v.a,{onClick:function(){m(),a(_e({show:!1,phone:null,fromContact:!1}))},children:Object(qe.jsx)(el.a,{})})}),Object(qe.jsx)("h3",{className:"text-center text-xl font-semibold",children:"Create FollowUp"}),Object(qe.jsxs)("div",{className:"px-6 pb-6",children:[Object(qe.jsxs)("div",{children:[n?null:Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Select contact"}),Object(qe.jsx)(Gt.a,{theme:function(e){return Object(o.a)(Object(o.a)({},e),{},{borderRadius:5,colors:Object(o.a)(Object(o.a)({},e.colors),{},{primary25:"lightgray",primary:"lightgray"})})},options:h,onChange:function(e){x("phone",e.value)}}),j.phone?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:j.phone}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Opening remark"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter opening remark"},u("text"))),j.text?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:j.text}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Date&Time"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"datetime-local",min:(new Date).toISOString().slice(0,-5),placeholder:"Select date"},u("date"))),j.date?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:j.date}):null]})]}),Object(qe.jsx)("div",{className:"px-2 mt-6 flex flex-col w-full",children:Object(qe.jsx)(k.a,{onClick:function(e){!function(e){e.preventDefault(),0===Object.keys(j).length&&""!==b.date?n?Ne.post("/create-followup/".concat(s._id),{phone:t,date:b.date,text:b.text},{headers:{Authorization:"Bearer ".concat(i)}}).then((function(e){m(),void 0!==r._id&&a(Te(r._id)),a(_e({show:!1,phone:null,fromContact:!1})),a(fe({message:"FollowUp created",error:!1}))})).catch((function(e){a(fe({message:"Error creating followup",error:!0}))})):Ne.post("/create-followup/".concat(s._id),b,{headers:{Authorization:"Bearer ".concat(i)}}).then((function(e){console.log(e),m(),a(Te(r._id)),a(_e({show:!1,phone:null,fromContact:!1})),a(fe({message:"FollowUp created",error:!1}))})).catch((function(e){a(fe({message:"Error creating followup",error:!0}))})):a(fe({message:"FIll fields properly",error:!0}))}(e)},style:{backgroundColor:"rgba(16, 185, 129, var(--tw-bg-opacity))"},children:"Create followup"})})]})]})})},Jl=function(e){var t=e.phone,l=e.show,n=e.fromContact,c=Object(M.b)(),r=Object(M.c)((function(e){return e.inventory.inventory})),a=Object(M.c)((function(e){return e.contact.contact})),i=Object(M.c)((function(e){return e.contact.update})),d=(Object(s.g)(),[]);r.forEach((function(e){d.push({value:e._id,label:e.item_name+"("+e.article+")"})}));var u=Object(Qt.a)({initialValues:{title:"",phone:"",items:[],description:""},validate:function(e){var t={};if(e.title||(t.title="*Required"),0!==e.items.length&&e.items.forEach((function(e,l){e.item||(t.items="Select all items")})),!n)if(e.phone){if(10!==e.phone.toString().length)t.phone="Length should be 10";else if(10===e.phone.toString().length){var l=!1;a.forEach((function(t){t.phone===e.phone&&(l=!0)})),l||(t.phone="Contact does not exists create new")}}else t.phone="*Required";return t}}),j=u.getFieldProps,b=u.errors,x=u.values,m=u.setValues,h=u.setFieldValue,p=u.resetForm,f=function(e){var t=G.a.get("JWT"),l=JSON.parse(localStorage.getItem("user"));Ne.post("/create-lead/".concat(l._id),e,{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){c(Se({show:!1,phone:null,fromContact:!1})),p(),c(Te(null===i||void 0===i?void 0:i._id)),c(fe({message:"Lead created successfully",error:!1}))})).catch((function(e){c(fe({message:"Error creating lead",error:!0})),p()}))};return Object(qe.jsx)("form",{className:"".concat(l?"block":"hidden"," fixed top-1/2 right-1/2 transform translate-x-1/2 -translate-y-1/2 flex justify-center items-center w-full h-full bg-black bg-opacity-20  z-50 shadow-2xl"),children:Object(qe.jsxs)("div",{className:"bg-white w-1/3 pb-2 rounded-t-lg flex flex-col items-center",children:[Object(qe.jsx)("div",{className:"w-full flex justify-end",children:Object(qe.jsx)(v.a,{onClick:function(){c(Se({show:!1,phone:null,fromContact:!1}))},children:Object(qe.jsx)(el.a,{})})}),Object(qe.jsx)("div",{className:"bg-white flex items-center justify-center pb-0 w-full",children:Object(qe.jsx)("h2",{className:"text-center text-2xl font-semibold",children:"Create Lead"})}),Object(qe.jsx)("div",{className:"flex flex-wrap w-full",children:Object(qe.jsxs)("div",{className:"bg-white px-4 pb-2 flex-1 flex flex-col mr-1",children:[n?null:Object(qe.jsxs)("div",{className:"px-2 mt-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Phone number"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter phone number"},j("phone"))),b.phone?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:b.phone}):null,"Contact does not exists create new"===b.phone?Object(qe.jsx)("div",{className:"flex justify-end",children:Object(qe.jsx)(k.a,{onClick:function(){},className:"w-max",style:{backgroundColor:"#54a3ff",color:"white",textTransform:"capitalize",marginTop:"10px"},children:"Add Contact"})}):null]}),Object(qe.jsxs)("div",{className:"px-2 mt-3 mb-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Title"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter title"},j("title"))),b.title?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:b.title}):null]}),Object(qe.jsxs)("div",{className:"p-2 w-full flex flex-col",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Description"}),Object(qe.jsx)("textarea",Object(o.a)({className:" p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter description"},j("description")))]})]})}),Object(qe.jsxs)("div",{className:"bg-white px-4 pb-2 w-full flex flex-col mt-4",children:[Object(qe.jsxs)("div",{className:"flex items-center",children:[Object(qe.jsx)("p",{className:"text-lg font-semibold ml-3",children:"Add Items:"}),Object(qe.jsx)(v.a,{onClick:function(){m(Object(o.a)(Object(o.a)({},x),{},{items:[].concat(Object(at.a)(x.items),[{item:"",quantity:"",updatedSalePrice:0}])}))},children:Object(qe.jsx)(al.a,{})})]}),b.items?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400 ml-3",children:b.items}):null,Object(qe.jsx)("div",{className:"w-full",children:Object(qe.jsx)("div",{className:" flex flex-col w-full max-h-60 overflow-auto mb-2",children:x.items.map((function(e,t){return Object(qe.jsxs)("div",{className:"flex w-full p-2 items-center",children:[Object(qe.jsxs)("div",{className:"w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Item"}),Object(qe.jsx)(Gt.a,{theme:function(e){return Object(o.a)(Object(o.a)({},e),{},{borderRadius:5,colors:Object(o.a)(Object(o.a)({},e.colors),{},{primary25:"lightgray",primary:"lightgray"})})},options:d,onChange:function(e){h("items[".concat(t,"].item"),e.value)}})]}),Object(qe.jsxs)("div",{className:"ml-2 w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Quantity"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 w-full border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter quantity"},j("items[".concat(t,"].quantity"))))]}),Object(qe.jsx)(v.a,{style:{marginTop:"14px",marginLeft:"5px",padding:"5px"},onClick:function(){m(Object(o.a)(Object(o.a)({},x),{},{items:x.items.filter((function(e,l){return l!==t}))}))},children:Object(qe.jsx)(el.a,{})})]})}))})})]}),Object(qe.jsx)("button",{onClick:function(e){return function(e){e.preventDefault(),0===Object.keys(b).length&&""!==x.title?f(n?{title:x.title,phone:t,items:x.items,description:x.description}:x):c(fe({message:"Fill fields properly",error:!0}))}(e)},className:"bg-green-600 mt-3 hover:bg-green-700 px-5 py-2 text-lg rounded-md m-4 text-white",children:"Save Lead"})]})})},Hl=function(e){var t=e.show,l=e.setShow,n=Object(M.b)(),c=Object(M.c)((function(e){return e.contact.selectedOrg})),r=Object(Qt.a)({initialValues:{type:c.type,name:c.name,address:c.address},validate:function(e){var t={};return e.type||(t.type="*Required"),e.name||(t.name="*Required"),e.address||(t.address="*Required"),t}}),a=r.getFieldProps,i=r.errors,s=r.values,d=r.resetForm;return Object(qe.jsx)("div",{className:"".concat(t?"block":"hidden"," fixed top-1/2 right-1/2 transform translate-x-1/2 -translate-y-1/2 flex justify-center items-center w-full h-full bg-black bg-opacity-20 mt-10 mx-4  z-50 shadow-2xl"),children:Object(qe.jsxs)("div",{className:"w-1/3 bg-white flex flex-col pb-4 items-center rounded-lg",children:[Object(qe.jsx)("div",{className:"w-full flex justify-end",children:Object(qe.jsx)(v.a,{onClick:function(){l(!1)},children:Object(qe.jsx)(el.a,{})})}),Object(qe.jsx)("h3",{className:"text-center text-2xl font-semibold",children:"Update Organization"}),Object(qe.jsxs)("div",{className:"p-4 w-full flex justify-center flex-col items-center",children:[Object(qe.jsx)("div",{className:"flex flex-wrap w-full",children:Object(qe.jsxs)("div",{className:"bg-white px-4 pt-4 pb-2 flex-1 flex flex-col",children:[Object(qe.jsxs)("div",{className:"px-2 mb-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Organization Name"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter name"},a("name"))),i.name?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:i.name}):null]}),Object(qe.jsxs)("div",{className:"px-2 mb-3 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Organization Type"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter department"},a("type"))),i.type?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:i.type}):null]}),Object(qe.jsxs)("div",{className:"px-2 flex mb-3 flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Address"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter department"},a("address"))),i.address?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:i.address}):null]})]})}),Object(qe.jsx)("button",{onClick:function(e){return function(e){e.preventDefault();var t=G.a.get("JWT"),r=JSON.parse(localStorage.getItem("user"));Ne.patch("/update-organization/".concat(c._id,"/").concat(r._id),s,{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){l(!1),d(),n(Fe(c._id)),n(fe({message:"Organization Updated Successfully",error:!1}))})).catch((function(e){n(fe({message:"Error updating organization",error:!0}))}))}(e)},className:"bg-green-600 w-max hover:bg-green-700 px-5 py-2 text-lg rounded-md m-4 mb-0 text-white",children:"Update Organization"})]})]})})},Wl=function(){var e,t,l=Object(n.useState)(!1),c=Object(u.a)(l,2),r=c[0],a=c[1],i=Object(M.c)((function(e){return e.contact.selectedOrg})),o=Object(M.b)(),d=Object(s.h)().id;Object(n.useEffect)((function(){o(Fe(d))}),[o,d]);var j=[{accessor:"name",Header:"Name"},{accessor:"phone",Header:"Phone Number"},{accessor:"email",Header:"Email"},{accessor:"department",Header:"Department"},{accessor:"title",Header:"Title"}],b=Object(n.useMemo)((function(){return j}),[]),x=[],m=[];return null===i||void 0===i||null===(e=i.employees)||void 0===e||e.forEach((function(e){e.isCustomer?x.push(e):m.push(e)})),Object(qe.jsxs)("div",{className:"flex justify-center",children:[Object(qe.jsx)(Hl,{show:r,setShow:a}),Object(qe.jsxs)("div",{className:"m-10 mr-5 p-7 py-10 bg-white rounded-lg mb-4 w-95 ",style:{height:"max-content"},children:[Object(qe.jsxs)("div",{className:"mb-10  flex justify-between items-center",children:[Object(qe.jsxs)("h1",{className:"text-3xl font-semibold text-center flex items-center justify-center",children:[Object(qe.jsx)("span",{className:"mr-3",children:Object(qe.jsx)(ge.a,{fontSize:"large"})}),"Organization"]}),Object(qe.jsx)(v.a,{onClick:function(){a(!0)},children:Object(qe.jsx)(zt.a,{})})]}),Object(qe.jsx)("h2",{className:"text-2xl font-semibold text-left mb-6",children:null===i||void 0===i?void 0:i.name}),Object(qe.jsx)(pl,{title:"Type",detail:null===i||void 0===i?void 0:i.type}),Object(qe.jsx)(pl,{title:"Address",detail:null===i||void 0===i?void 0:i.address})]}),Object(qe.jsx)("div",{className:"m-10 ml-2 p-7 bg-white rounded-lg mb-4 flex-1 ",style:{height:"max-content"},children:0===(null===i||void 0===i||null===(t=i.employees)||void 0===t?void 0:t.length)?Object(qe.jsx)("p",{className:"text-2xl",children:"No contact available"}):Object(qe.jsx)(Lt,{columns:b,data:i.employees?i.employees:[],customer:x,not_customer:m,deleteFunc:De,update:we,path:"/updatecontact",tablepath:"/contactdetail",text:"Are you sure you want to delete contact? \n All leads will also be deleted.",isContact:!0,isOrg:!0})})]})},Vl=function(e){var t=e.show,l=Object(M.b)(),n=Object(Qt.a)({initialValues:{type:"",name:"",street:"",city:"",state:"",country:"",zipcode:""},validate:function(e){var t={};return e.type||(t.type="*Required"),e.name||(t.name="*Required"),e.street||(t.street="*Required"),e.country||(t.country="*Required"),e.state||(t.state="*Required"),e.city||(t.city="*Required"),e.zipcode||(t.zipcode="*Required"),t}}),c=n.getFieldProps,r=n.errors,a=n.values,i=n.resetForm;return Object(qe.jsx)("div",{className:"".concat(t?"block":"hidden"," fixed top-1/2 right-1/2 transform translate-x-1/2 -translate-y-1/2 flex justify-center items-center w-full h-full bg-black bg-opacity-20 mt-10 mx-4  z-50 shadow-2xl"),children:Object(qe.jsxs)("div",{className:"w-1/2 bg-white flex flex-col pb-4 items-center rounded-lg",children:[Object(qe.jsx)("div",{className:"w-full flex justify-end",children:Object(qe.jsx)(v.a,{onClick:function(){l(ke({show:!1}))},children:Object(qe.jsx)(el.a,{})})}),Object(qe.jsx)("h3",{className:"text-center text-2xl font-semibold",children:"Create Organization"}),Object(qe.jsxs)("div",{className:"p-4 w-full flex justify-center flex-col items-center",children:[Object(qe.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(qe.jsx)("div",{className:"bg-white px-4 pt-4 pb-2 flex-1 flex flex-col",children:Object(qe.jsxs)("div",{className:"px-2 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Organization Name"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter name"},c("name"))),r.name?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.name}):null]})}),Object(qe.jsx)("div",{className:"bg-white p-4 flex-1 flex flex-col",children:Object(qe.jsxs)("div",{className:"px-2 flex flex-col w-full",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Organization Type"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter department"},c("type"))),r.type?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.type}):null]})}),Object(qe.jsxs)("div",{className:"bg-white px-4 pb-2 w-full flex flex-col mt-2",children:[Object(qe.jsx)("h3",{className:"text-lg font-semibold pl-2",children:"Address"}),Object(qe.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(qe.jsxs)("div",{className:"flex-col flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Street"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter street"},c("street"))),r.street?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.street}):null]}),Object(qe.jsxs)("div",{className:"flex-col flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"Country"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter country"},c("country"))),r.country?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.country}):null]}),Object(qe.jsxs)("div",{className:"flex-col flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"State"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter state"},c("state"))),r.state?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.state}):null]})]}),Object(qe.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(qe.jsxs)("div",{className:"flex-col flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"City"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"text",placeholder:"Enter city"},c("city"))),r.city?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.city}):null]}),Object(qe.jsxs)("div",{className:"flex-col flex flex-1 p-2",children:[Object(qe.jsx)("lable",{className:"text-gray-2 text-md font-semibold ",children:"ZIP code"}),Object(qe.jsx)("input",Object(o.a)({className:"p-2 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-red-1",type:"number",placeholder:"Enter zip code"},c("zipcode"))),r.zipcode?Object(qe.jsx)("div",{className:"w-full text-sm text-red-400",children:r.zipcode}):null]})]})]})]}),Object(qe.jsx)("button",{onClick:function(e){return function(e){if(e.preventDefault(),0===Object.keys(r).length&&""!==a.name){var t=G.a.get("JWT"),n=JSON.parse(localStorage.getItem("user"));Ne.post("/create-organization/".concat(n._id),{name:a.name,type:a.type,address:"".concat(a.street,", ").concat(a.city,", ").concat(a.state,", ").concat(a.country,", ").concat(a.zipcode)},{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){i(),l(ke({show:!1})),l(Ae()),l(fe({message:"Organization Created Successfully",error:!1}))})).catch((function(e){l(fe({message:"Error creating organization",error:!0}))}))}else l(fe({message:"Fill fields properly",error:!0}))}(e)},className:"bg-green-600 w-max hover:bg-green-700 px-5 py-2 text-lg rounded-md m-4 mb-0 text-white",children:"Save Organization"})]})]})})};var Ml=function(){var e=Object(M.b)();Object(n.useEffect)((function(){e((function(e){var t=JSON.parse(localStorage.getItem("user"));e(Il(t))})),e(Ae()),e($t()),e(ze())}),[e]);var t=Object(M.c)((function(e){return e.alert.alert}));Object(n.useEffect)((function(){!1===t.error?Ll.b.success(t.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):!0===t.error&&Ll.b.error(t.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}),[t]);var l=Object(M.c)((function(e){return e.confirmation.confirmation})),c=l.show,r=l.func,a=l.text,i=Object(M.c)((function(e){return e.contact.followUp})),o=Object(M.c)((function(e){return e.contact.leadCreate})),d=Object(M.c)((function(e){return e.contact.contactCreate})),u=Object(M.c)((function(e){return e.contact.orgCreate}));return Object(qe.jsxs)("div",{className:"",children:[Object(qe.jsx)(Ll.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(qe.jsx)(Bl,{show:c,func:r,text:a}),Object(qe.jsx)(Ul,{phone:i.phone,show:i.show,fromContact:i.fromContact}),Object(qe.jsx)(Jl,{phone:o.phone,show:o.show,fromContact:o.fromContact}),Object(qe.jsx)(ol,{phone:d.phone,show:d.show,fromLead:d.fromContact}),Object(qe.jsx)(Vl,{show:u.show}),Object(qe.jsxs)(s.d,{children:[Object(qe.jsx)(s.b,{path:"/login",component:Pl}),Object(qe.jsx)(Je,{path:"/",exact:!0,component:ct}),Object(qe.jsx)(Je,{path:"/leads",exact:!0,component:Mt}),Object(qe.jsx)(Je,{path:"/inventory",exact:!0,component:ll}),Object(qe.jsx)(Je,{path:"/contacts",exact:!0,component:nl}),Object(qe.jsx)(Je,{path:"/organizations",exact:!0,component:cl}),Object(qe.jsx)(Je,{path:"/message",exact:!0,component:Zt}),Object(qe.jsx)(Je,{path:"/createlead",exact:!0,component:dl}),Object(qe.jsx)(Je,{path:"/createinventory",exact:!0,component:Tl}),Object(qe.jsx)(Je,{path:"/updatelead",exact:!0,component:xl}),Object(qe.jsx)(Je,{path:"/updateinventory/:id",exact:!0,component:Fl}),Object(qe.jsx)(Je,{path:"/updatecontact/:id",exact:!0,component:ml}),Object(qe.jsx)(Je,{path:"/inventorydetails/:id",exact:!0,component:ql}),Object(qe.jsx)(Je,{path:"/contactdetail/:id",exact:!0,component:Dl}),Object(qe.jsx)(Je,{path:"/organizationdetail/:id",exact:!0,component:Wl}),Object(qe.jsx)(s.a,{from:"*",to:"/"})]})]})},Ql=function(e){e&&e instanceof Function&&l.e(3).then(l.bind(null,656)).then((function(t){var l=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;l(e),n(e),c(e),r(e),a(e)}))},Gl=l(152),Zl=l(332),Kl={user:{}},$l={confirmation:{text:"",show:!1,func:function(){}}},Yl={contact:[],organizations:[],update:{},selectedOrg:{},followUp:{show:!1,phone:"",fromContact:!1},leadCreate:{show:!1,phone:"",fromContact:!1},contactCreate:{show:!1,phone:"",fromLead:!1},orgCreate:{show:!1}},Xl={alert:{message:"",error:null}},en={inventory:[],update:{}},tn={leads:[],updatelead:{},selectedlead:{}},ln=Object(Gl.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl,t=arguments.length>1?arguments[1]:void 0;return t.type===Z?Object(o.a)(Object(o.a)({},e),{},{user:t.payload}):e},lead:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,l=arguments.length>1?arguments[1]:void 0;switch(l.type){case K:return Object(o.a)(Object(o.a)({},t),{},{leads:l.payload});case X:return Object(o.a)(Object(o.a)({},t),{},{leads:Object(at.a)(t.leads.filter((function(e){return e._id!==l.payload})))});case Y:return Object(o.a)(Object(o.a)({},t),{},{updatelead:l.payload});case $:return Object(o.a)(Object(o.a)({},t),{},{leads:null===t||void 0===t||null===(e=t.leads)||void 0===e?void 0:e.map((function(e){return e._id===l.payload._id?Object(o.a)(Object(o.a)({},e),{},{quantity:l.payload.quantity,convert:l.payload.convert}):e})),updatelead:Object(o.a)(Object(o.a)({},t.updatelead),{},{quantity:l.payload.quantity,convert:l.payload.convert})});case ee:return Object(o.a)(Object(o.a)({},t),{},{selectedlead:l.payload});default:return t}},inventory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(o.a)(Object(o.a)({},e),{},{inventory:t.payload});case ce:return Object(o.a)(Object(o.a)({},e),{},{inventory:Object(at.a)(e.inventory.filter((function(e){return e._id!==t.payload})))});case ne:return Object(o.a)(Object(o.a)({},e),{},{update:t.payload});default:return e}},contact:function(){var e,t,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yl,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case re:return Object(o.a)(Object(o.a)({},l),{},{contact:n.payload});case de:return Object(o.a)(Object(o.a)({},l),{},{organizations:n.payload});case ie:return Object(o.a)(Object(o.a)({},l),{},{contact:Object(at.a)(l.contact.filter((function(e){return e._id!==n.payload})))});case se:return Object(o.a)(Object(o.a)({},l),{},{organizations:Object(at.a)(null===l||void 0===l||null===(e=l.organizations)||void 0===e?void 0:e.filter((function(e){return(null===e||void 0===e?void 0:e._id)!==(null===n||void 0===n?void 0:n.payload)})))});case oe:return Object(o.a)(Object(o.a)({},l),{},{update:n.payload});case te:return Object(o.a)(Object(o.a)({},l),{},{contact:null===l||void 0===l||null===(t=l.contact)||void 0===t?void 0:t.map((function(e){return e._id===n.payload.contactId?Object(o.a)(Object(o.a)({},e),{},{allLeads:[].concat(Object(at.a)(e.allLeads),[n.payload])}):e}))});case ae:return Object(o.a)(Object(o.a)({},l),{},{contact:[n.payload].concat(Object(at.a)(l.contact))});case xe:return Object(o.a)(Object(o.a)({},l),{},{followUp:n.payload});case me:return Object(o.a)(Object(o.a)({},l),{},{leadCreate:n.payload});case he:return Object(o.a)(Object(o.a)({},l),{},{contactCreate:n.payload});case pe:return Object(o.a)(Object(o.a)({},l),{},{orgCreate:n.payload});case ue:return Object(o.a)(Object(o.a)({},l),{},{selectedOrg:n.payload});default:return l}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xl,t=arguments.length>1?arguments[1]:void 0;return t.type===je?Object(o.a)(Object(o.a)({},e),{},{alert:t.payload}):e},confirmation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$l,t=arguments.length>1?arguments[1]:void 0;return t.type===be?Object(o.a)(Object(o.a)({},e),{},{confirmation:t.payload}):e}}),nn=ln,cn=Object(Gl.c)(nn,Object(Gl.a)(Zl.a));i.a.render(Object(qe.jsx)(M.a,{store:cn,children:Object(qe.jsx)(r.a,{children:Object(qe.jsx)(c.a.StrictMode,{children:Object(qe.jsx)(Ml,{})})})}),document.getElementById("root")),Ql()}},[[543,1,2]]]);
//# sourceMappingURL=main.fc2822fb.chunk.js.map